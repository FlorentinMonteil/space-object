!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(35)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){var i={};i.EPSILON=1e-6,i.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,i.RANDOM=Math.random,i.setMatrixArrayType=function(t){GLMAT_ARRAY_TYPE=t};var n=Math.PI/180;i.toRadian=function(t){return t*n},t.exports=i},function(t,e,i){e.glMatrix=i(2),e.mat2=i(45),e.mat2d=i(46),e.mat3=i(16),e.mat4=i(47),e.quat=i(48),e.vec2=i(49),e.vec3=i(17),e.vec4=i(18)},function(t,e,i){"use strict";var n=i(42),r=!0,s=new n.GUI;r&&s.domElement.parentNode.removeChild(s.domElement),t.exports=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(78),a=n(o),u=function(){function t(){r(this,t),this._texs=[]}return s(t,[{key:"setup",value:function(t){this.gl=t;var e="src/assets/textures/crater";this.makeTex("crater_AO",e+"/AO.jpg",t.REPEAT,t.REPEAT),this.makeTex("crater_D",e+"/BC.jpg",t.REPEAT,t.REPEAT),this.makeTex("crater_N",e+"/N.jpg",t.REPEAT,t.REPEAT),this.makeTex("space","src/assets/textures/env/negx.jpg",t.REPEAT,t.REPEAT),this.makeCube("env","src/assets/textures/env"),this.makeCube("env_green","src/assets/textures/env-green")}},{key:"getTexture",value:function(t){return this._texs.filter(function(e){return e.name===t})[0]}},{key:"makeTex",value:function(t,e,i,n){var r=this.gl,s=this.gl.createTexture();s.name=t,r.bindTexture(r.TEXTURE_2D,s),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,n),s.img=new Image,s.img.crossOrigin="anonymous",s.src=e,this._texs.push(s)}},{key:"loadTexture",value:function(t){var e=this;if(t.cube)return this.loadCube(t);var i=a["default"].defer();return t.img.onload=function(){e.onTextureLoaded(t),i.resolve()},t.img.src=t.src,i.promise}},{key:"loadCube",value:function(t){for(var e=this,i=a["default"].defer(),n=0,r=function(){n+=1,n==t.imgs.length&&(e.onCubeLoaded(t),i.resolve())},s=0;s<t.imgs.length;s++)t.imgs[s].img.onload=r,t.imgs[s].img.src=t.imgs[s].src;return i.promise}},{key:"makeCube",value:function(t,e){var i=this.gl,n=this.gl.createTexture();n.name=t,i.bindTexture(i.TEXTURE_CUBE_MAP,n),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MIN_FILTER,i.LINEAR),n.cube=!0,n.imgs=[];for(var r=0;6>r;r++){var s=new Image;s.crossOrigin="anonymous",n.imgs.push({img:s,src:""})}n.imgs[0].src=e+"/negx.jpg",n.imgs[1].src=e+"/negy.jpg",n.imgs[2].src=e+"/negz.jpg",n.imgs[3].src=e+"/posx.jpg",n.imgs[4].src=e+"/posy.jpg",n.imgs[5].src=e+"/posz.jpg",this._texs.push(n)}},{key:"load",value:function(){return a["default"].map(this._texs,this.loadTexture.bind(this))}},{key:"onTextureLoaded",value:function(t){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.img),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)}},{key:"onCubeLoaded",value:function(t){var e=this.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,t),e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.imgs[0].img),e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_Y,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.imgs[1].img),e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_Z,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.imgs[2].img),e.texImage2D(e.TEXTURE_CUBE_MAP_NEGATIVE_X,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.imgs[3].img),e.texImage2D(e.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.imgs[4].img),e.texImage2D(e.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.imgs[5].img)}}]),t}(),l=new u;e["default"]=l,t.exports=e["default"]},function(t,e){function i(t,e,i,n){this.gl=t,this.program=t.createProgram(),this.vShader=t.createShader(t.VERTEX_SHADER),this.fShader=t.createShader(t.FRAGMENT_SHADER),this.dyns=[],this.ready=!1,t.attachShader(this.program,this.vShader),t.attachShader(this.program,this.fShader),void 0!==e&&void 0!==i&&this.compile(e,i,n)}function n(t){console.warn(t)}function r(t,e){return d[String(e+1).length]+(e+1)+": "+t}function s(t){return t.split("\n").map(r).join("\n")}function o(t,e,r){return t.shaderSource(e,r),t.compileShader(e),i.debug&&!t.getShaderParameter(e,t.COMPILE_STATUS)?(n(t.getShaderInfoLog(e)),n(s(r)),!1):!0}function a(t){return t=String(t),"uniform"+p[t]}function u(t,e,i,n){switch(t){case i.FLOAT_MAT2:case i.FLOAT_MAT3:case i.FLOAT_MAT4:return h(t,e,i,n);case i.SAMPLER_2D:case i.SAMPLER_CUBE:return c(t,e,i,n);default:return l(t,e,i,n)}}function l(t,e,i,n){var r=a(t);return function(){return 1===arguments.length&&void 0!==arguments[0].length?i[r+"v"](e,arguments[0]):arguments.length>0&&i[r].apply(i,Array.prototype.concat.apply(e,arguments)),e}}function h(t,e,i,n){var r=a(t);return function(){return arguments.length>0&&void 0!==arguments[0].length&&i[r+"v"](e,!!arguments[1],arguments[0]),e}}function c(t,e,i,n){var r=n.texIndex++;return function(){return 1===arguments.length&&(void 0!==arguments[0].bind?(arguments[0].bind(r),i.uniform1i(e,r)):i.uniform1i(e,arguments[0])),e}}function f(t){return function(){return t}}i.debug=!0,i.prototype={use:function(){this.ready||this._grabParameters(),this.gl.useProgram(this.program)},compile:function(t,e,r){this.ready=!1,r=(r||"")+"\n";var s=this.gl;if(!o(s,this.fShader,r+e)||!o(s,this.vShader,r+t))return!1;if(s.linkProgram(this.program),i.debug&&!s.getProgramParameter(this.program,s.LINK_STATUS))return n(s.getProgramInfoLog(this.program)),!1;for(;this.dyns.length>0;)delete this[this.dyns.pop()];return!0},dispose:function(){null!==this.gl&&(this.gl.deleteProgram(this.program),this.gl.deleteShader(this.fShader),this.gl.deleteShader(this.vShader),this.gl=null)},_grabParameters:function(){for(var t=this.gl,e=this.program,i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n={texIndex:0},r=0;i>r;++r){var s=t.getActiveUniform(e,r);if(null!==s){var o=s.name,a=o.indexOf("[");a>=0&&(o=o.substring(0,a));var l=t.getUniformLocation(e,s.name);this[o]=u(s.type,l,t,n),this.dyns.push(o)}else t.getError()}for(var h=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),c=0;h>c;++c){var d=t.getActiveAttrib(e,c).name,p=t.getAttribLocation(e,d);this[d]=f(p),this.dyns.push(d)}this.ready=!0}},i.prototype.bind=i.prototype.use;var d=["","   ","  "," ",""],p={};p[5126]="1f",p[35664]="2f",p[35665]="3f",p[35666]="4f",p[35670]=p[5124]=p[35678]=p[35680]="1i",p[35671]=p[35667]="2i",p[35672]=p[35668]="3i",p[35673]=p[35669]="4i",p[35674]="Matrix2f",p[35675]="Matrix3f",p[35676]="Matrix4f",t.exports=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o,a,u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function(t,e,i){for(var n=!0;n;){var r=t,s=e,o=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,s);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,i=o,n=!0,a=l=void 0}},h=i(11),c=n(h),f=function(t){function e(){r(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.down=!1,this.onMouseMove=this._onMouseMove.bind(this),this.onMouseDown=this._onMouseDown.bind(this),this.onMouseUp=this._onMouseUp.bind(this),this.onResize=this._onResize.bind(this),window.addEventListener("resize",this.onResize),this.onResize()}return s(e,t),u(e,[{key:"setUp",value:function(t){var e=this;t.addEventListener("mousemove",this.onMouseMove),t.addEventListener("touchmove",this.onMouseMove),t.addEventListener("mousedown",this.onMouseDown),t.addEventListener("mouseup",this.onMouseUp),t.addEventListener("click",function(t){e.emit("click")})}},{key:"_onMouseMove",value:function(t){t.preventDefault(),this.emit("mousemove",this);var e=[t.clientX,t.clientY];t.touches&&(t.preventDefault&&t.preventDefault(),e[0]=t.touches[0].clientX,e[1]=t.touches[0].clientY),this.x=e[0]/window.innerWidth*2-1,this.y=e[1]/window.innerHeight*2-1,this.clientX=e[0],this.clientY=e[1],this.emit("mousemove",this)}},{key:"_onMouseDown",value:function(t){this.down=!0,this.emit("mousedown",this)}},{key:"_onMouseUp",value:function(t){this.down=!1,this.emit("mouseup",this)}},{key:"_onResize",value:function(){o=window.innerWidth,a=window.innerHeight}}]),e}(c["default"]),d=new f;e["default"]=d,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){var t=3,e={vertices:[-1,1,-1,1,1,-1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1],indices:[0,1,2,0,2,3,3,2,6,3,6,7,7,6,5,7,5,4,4,5,1,4,1,0,4,0,3,4,3,7,1,5,6,1,6,2]};return{vertices:e.vertices,indices:e.indices,itemSize:t}},t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){var t=3,e={vertices:new Float32Array([-1,-1,0,1,-1,0,-1,1,0,1,1,0]),uvs:new Float32Array([0,0,1,0,0,1,1,1]),indices:[0,1,2,3]};return{vertices:e.vertices,uvs:e.uvs,indices:e.indices,itemSize:t}},t.exports=e["default"]},function(t,e){"use strict";t.exports={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,i){"use strict";function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(){}var s=Object.prototype.hasOwnProperty,o="function"!=typeof Object.create?"~":!1;r.prototype._events=void 0,r.prototype.eventNames=function(){var t,e=this._events,i=[];if(!e)return i;for(t in e)s.call(e,t)&&i.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},r.prototype.listeners=function(t,e){var i=o?o+t:t,n=this._events&&this._events[i];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,a=new Array(s);s>r;r++)a[r]=n[r].fn;return a},r.prototype.emit=function(t,e,i,n,r,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var u,l,h=this._events[a],c=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,i),!0;case 4:return h.fn.call(h.context,e,i,n),!0;case 5:return h.fn.call(h.context,e,i,n,r),!0;case 6:return h.fn.call(h.context,e,i,n,r,s),!0}for(l=1,u=new Array(c-1);c>l;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,d=h.length;for(l=0;d>l;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,i);break;default:if(!u)for(f=1,u=new Array(c-1);c>f;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},r.prototype.on=function(t,e,i){var r=new n(e,i||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):this._events[s]=r,this},r.prototype.once=function(t,e,i){var r=new n(e,i||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):this._events[s]=r,this},r.prototype.removeListener=function(t,e,i,n){var r=o?o+t:t;if(!this._events||!this._events[r])return this;var s=this._events[r],a=[];if(e)if(s.fn)(s.fn!==e||n&&!s.once||i&&s.context!==i)&&a.push(s);else for(var u=0,l=s.length;l>u;u++)(s[u].fn!==e||n&&!s[u].once||i&&s[u].context!==i)&&a.push(s[u]);return a.length?this._events[r]=1===a.length?a[0]:a:delete this._events[r],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=o,t.exports=r},function(t,e,i){var n;(function(r){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(s){"use strict";n=function(t){function e(){return"undefined"!=typeof r&&"[object process]"===Object.prototype.toString.call(r)}function n(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function s(t){function e(){var t=i;i=void 0,t()}var i,n=document.createTextNode(""),r=new t(e);r.observe(n,{characterData:!0});var s=0;return function(t){i=t,n.data=s^=1}}var o,a="undefined"!=typeof setTimeout&&setTimeout,u=function(t,e){return setTimeout(t,e)},l=function(t){return clearTimeout(t)},h=function(t){return a(t,0)};if(e())h=function(t){return r.nextTick(t)};else if(o=n())h=s(o);else if(!a){var c=i(79);u=function(t,e){return c.setTimer(e,t)},l=c.cancelTimer,h=c.runOnLoop||c.runOnContext}return{setTimer:u,clearTimer:l,asap:h}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))}).call(e,i(19))},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.gl=e,this.FBO=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this.FBO),this.fboSampleSize=512,this.FBO.width=this.fboSampleSize,this.FBO.height=this.fboSampleSize,this.FBOTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.FBOTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.fboSampleSize,this.fboSampleSize,0,e.RGBA,e.UNSIGNED_BYTE,null),this.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.fboSampleSize,this.fboSampleSize),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.FBOTexture,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.renderbuffer),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null)}return n(t,[{key:"render",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=this.gl;i.bindFramebuffer(i.FRAMEBUFFER,this.FBO),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.viewport(0,0,this.FBO.width,this.FBO.height),t.render(e,!0),i.generateMipmap(i.TEXTURE_2D),i.bindFramebuffer(i.FRAMEBUFFER,null)}}]),t}();e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(31),a=n(o),u=i(9),l=n(u),h=i(4),c=n(h),f=null,d=function(){function t(e,i){r(this,t),this.gl=e,null==f&&(f=(0,a["default"])(e)),this.geom=(0,l["default"])(),this.uvs=this.geom.uvs,this.prg=f,this.verticesBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.bufferData(e.ARRAY_BUFFER,this.geom.vertices,e.STATIC_DRAW),this.verticesBuffer.itemSize=this.geom.itemSize,this.verticesBuffer.numItems=this.geom.vertices.length/this.geom.itemSize,this.uvs&&(this.textureBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.textureBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW)),this.prg.use(),this.exposure=.52,this.decay=.95,this.density=1,this.weight=.24,this.lightPositionOnScreen={x:.5,y:.5},this.prg.exposure(this.exposure),this.prg.decay(this.decay),this.prg.density(this.density),this.prg.weight(this.weight);var n=c["default"].addFolder("ambient");n.add(this,"exposure",0,1),n.add(this,"decay",0,2),n.add(this,"density",0,1),n.add(this,"weight",0,1),this.texture=i}return s(t,[{key:"render",value:function(t,e){var i=this.gl;e||(this.prg.use(),i.disable(i.DEPTH_TEST),i.blendFunc(i.ONE,i.ONE),i.bindBuffer(i.ARRAY_BUFFER,this.verticesBuffer),i.enableVertexAttribArray(this.prg.aVertexPosition()),i.vertexAttribPointer(this.prg.aVertexPosition(),this.verticesBuffer.itemSize,i.FLOAT,!1,0,0),this.textureBuffer&&(i.bindBuffer(i.ARRAY_BUFFER,this.textureBuffer),i.enableVertexAttribArray(this.prg.aUv()),i.vertexAttribPointer(this.prg.aUv(),2,i.FLOAT,!1,0,0)),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.texture),i.uniform1i(this.prg.program.uSampler,0),this.prg.exposure(this.exposure),this.prg.decay(this.decay),this.prg.density(this.density),this.prg.weight(this.weight),i.drawArrays(i.TRIANGLE_STRIP,0,this.verticesBuffer.numItems),i.enable(i.DEPTH_TEST),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA))}}]),t}();e["default"]=d,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e["default"]=function(t){return new n(t,i(51)(),i(50)())},t.exports=e["default"]},function(t,e,i){var n=i(2),r={};r.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},r.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7],h=e[8],c=h*o-a*l,f=-h*s+a*u,d=l*s-o*u,p=i*c+n*f+r*d;return p?(p=1/p,t[0]=c*p,t[1]=(-h*n+r*l)*p,t[2]=(a*n-r*o)*p,t[3]=f*p,t[4]=(h*i-r*u)*p,t[5]=(-a*i+r*s)*p,t[6]=d*p,t[7]=(-l*i+n*u)*p,t[8]=(o*i-n*s)*p,t):null},r.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7],h=e[8];return t[0]=o*h-a*l,t[1]=r*l-n*h,t[2]=n*a-r*o,t[3]=a*u-s*h,t[4]=i*h-r*u,t[5]=r*s-i*a,t[6]=s*l-o*u,t[7]=n*u-i*l,t[8]=i*o-n*s,t},r.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],u=t[7],l=t[8];return e*(l*s-o*u)+i*(-l*r+o*a)+n*(u*r-s*a)},r.multiply=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=i[0],d=i[1],p=i[2],_=i[3],m=i[4],v=i[5],g=i[6],y=i[7],b=i[8];return t[0]=f*n+d*o+p*l,t[1]=f*r+d*a+p*h,t[2]=f*s+d*u+p*c,t[3]=_*n+m*o+v*l,t[4]=_*r+m*a+v*h,t[5]=_*s+m*u+v*c,t[6]=g*n+y*o+b*l,t[7]=g*r+y*a+b*h,t[8]=g*s+y*u+b*c,t},r.mul=r.multiply,r.translate=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=i[0],d=i[1];return t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=u,t[6]=f*n+d*o+l,t[7]=f*r+d*a+h,t[8]=f*s+d*u+c,t},r.rotate=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=Math.sin(i),d=Math.cos(i);return t[0]=d*n+f*o,t[1]=d*r+f*a,t[2]=d*s+f*u,t[3]=d*o-f*n,t[4]=d*a-f*r,t[5]=d*u-f*s,t[6]=l,t[7]=h,t[8]=c,t},r.scale=function(t,e,i){var n=i[0],r=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},r.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},r.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=i+i,a=n+n,u=r+r,l=i*o,h=n*o,c=n*a,f=r*o,d=r*a,p=r*u,_=s*o,m=s*a,v=s*u;return t[0]=1-c-p,t[3]=h-v,t[6]=f+m,t[1]=h+v,t[4]=1-l-p,t[7]=d-_,t[2]=f-m,t[5]=d+_,t[8]=1-l-c,t},r.normalFromMat4=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7],h=e[8],c=e[9],f=e[10],d=e[11],p=e[12],_=e[13],m=e[14],v=e[15],g=i*a-n*o,y=i*u-r*o,b=i*l-s*o,x=n*u-r*a,w=n*l-s*a,T=r*l-s*u,A=h*_-c*p,E=h*m-f*p,R=h*v-d*p,P=c*m-f*_,M=c*v-d*_,O=f*v-d*m,S=g*O-y*M+b*P+x*R-w*E+T*A;return S?(S=1/S,t[0]=(a*O-u*M+l*P)*S,t[1]=(u*R-o*O-l*E)*S,t[2]=(o*M-a*R+l*A)*S,t[3]=(r*M-n*O-s*P)*S,t[4]=(i*O-r*R+s*E)*S,t[5]=(n*R-i*M-s*A)*S,t[6]=(_*T-m*w+v*x)*S,t[7]=(m*b-p*T-v*y)*S,t[8]=(p*w-_*b+v*g)*S,t):null},r.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},t.exports=r},function(t,e,i){var n=i(2),r={};r.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},r.fromValues=function(t,e,i){var r=new n.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=i,r},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},r.set=function(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t},r.div=r.divide,r.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t},r.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t},r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t},r.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t},r.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return i*i+n*n+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},r.normalize=function(t,e){var i=e[0],n=e[1],r=e[2],s=i*i+n*n+r*r;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},r.cross=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],u=i[2];return t[0]=r*u-s*a,t[1]=s*o-n*u,t[2]=n*a-r*o,t},r.lerp=function(t,e,i,n){var r=e[0],s=e[1],o=e[2];return t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t[2]=o+n*(i[2]-o),t},r.hermite=function(t,e,i,n,r,s){var o=s*s,a=o*(2*s-3)+1,u=o*(s-2)+s,l=o*(s-1),h=o*(3-2*s);return t[0]=e[0]*a+i[0]*u+n[0]*l+r[0]*h,t[1]=e[1]*a+i[1]*u+n[1]*l+r[1]*h,t[2]=e[2]*a+i[2]*u+n[2]*l+r[2]*h,t},r.bezier=function(t,e,i,n,r,s){var o=1-s,a=o*o,u=s*s,l=a*o,h=3*s*a,c=3*u*o,f=u*s;return t[0]=e[0]*l+i[0]*h+n[0]*c+r[0]*f,t[1]=e[1]*l+i[1]*h+n[1]*c+r[1]*f,t[2]=e[2]*l+i[2]*h+n[2]*c+r[2]*f,t},r.random=function(t,e){e=e||1;var i=2*n.RANDOM()*Math.PI,r=2*n.RANDOM()-1,s=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(i)*s,t[1]=Math.sin(i)*s,t[2]=r*e,t},r.transformMat4=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=i[3]*n+i[7]*r+i[11]*s+i[15];return o=o||1,t[0]=(i[0]*n+i[4]*r+i[8]*s+i[12])/o,t[1]=(i[1]*n+i[5]*r+i[9]*s+i[13])/o,t[2]=(i[2]*n+i[6]*r+i[10]*s+i[14])/o,t},r.transformMat3=function(t,e,i){var n=e[0],r=e[1],s=e[2];return t[0]=n*i[0]+r*i[3]+s*i[6],t[1]=n*i[1]+r*i[4]+s*i[7],t[2]=n*i[2]+r*i[5]+s*i[8],t},r.transformQuat=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],u=i[2],l=i[3],h=l*n+a*s-u*r,c=l*r+u*n-o*s,f=l*s+o*r-a*n,d=-o*n-a*r-u*s;return t[0]=h*l+d*-o+c*-u-f*-a,t[1]=c*l+d*-a+f*-o-h*-u,t[2]=f*l+d*-u+h*-a-c*-o,t},r.rotateX=function(t,e,i,n){var r=[],s=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],s[0]=r[0],s[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),s[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t},r.rotateY=function(t,e,i,n){var r=[],s=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],s[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),s[1]=r[1],s[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t},r.rotateZ=function(t,e,i,n){var r=[],s=[];return r[0]=e[0]-i[0],r[1]=e[1]-i[1],r[2]=e[2]-i[2],s[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),s[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),s[2]=r[2],t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t},r.forEach=function(){var t=r.create();return function(e,i,n,r,s,o){var a,u;for(i||(i=3),n||(n=0),u=r?Math.min(r*i+n,e.length):e.length,a=n;u>a;a+=i)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],s(t,t,o),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}}(),r.angle=function(t,e){var i=r.fromValues(t[0],t[1],t[2]),n=r.fromValues(e[0],e[1],e[2]);r.normalize(i,i),r.normalize(n,n);var s=r.dot(i,n);return s>1?0:Math.acos(s)},r.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},t.exports=r},function(t,e,i){var n=i(2),r={};r.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.fromValues=function(t,e,i,r){var s=new n.ARRAY_TYPE(4);return s[0]=t,s[1]=e,s[2]=i,s[3]=r,s},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.set=function(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t},r.div=r.divide,r.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t},r.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t},r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t},r.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t},r.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],s=e[3]-t[3];return Math.sqrt(i*i+n*n+r*r+s*s)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2],s=e[3]-t[3];return i*i+n*n+r*r+s*s},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return Math.sqrt(e*e+i*i+n*n+r*r)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1],n=t[2],r=t[3];return e*e+i*i+n*n+r*r},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},r.normalize=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=i*i+n*n+r*r+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=i*o,t[1]=n*o,t[2]=r*o,t[3]=s*o),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},r.lerp=function(t,e,i,n){var r=e[0],s=e[1],o=e[2],a=e[3];return t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t[2]=o+n*(i[2]-o),t[3]=a+n*(i[3]-a),t},r.random=function(t,e){return e=e||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),r.normalize(t,t),r.scale(t,t,e),t},r.transformMat4=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*s+i[12]*o,t[1]=i[1]*n+i[5]*r+i[9]*s+i[13]*o,t[2]=i[2]*n+i[6]*r+i[10]*s+i[14]*o,t[3]=i[3]*n+i[7]*r+i[11]*s+i[15]*o,t},r.transformQuat=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],u=i[2],l=i[3],h=l*n+a*s-u*r,c=l*r+u*n-o*s,f=l*s+o*r-a*n,d=-o*n-a*r-u*s;return t[0]=h*l+d*-o+c*-u-f*-a,t[1]=c*l+d*-a+f*-o-h*-u,t[2]=f*l+d*-u+h*-a-c*-o,t[3]=e[3],t},r.forEach=function(){var t=r.create();return function(e,i,n,r,s,o){var a,u;for(i||(i=4),n||(n=0),u=r?Math.min(r*i+n,e.length):e.length,a=n;u>a;a+=i)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],s(t,t,o),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}}(),r.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},t.exports=r},function(t,e){function i(){c&&l&&(c=!1,l.length?h=l.concat(h):f=-1,h.length&&n())}function n(){if(!c){var t=o(i);c=!0;for(var e=h.length;e;){for(l=h,h=[];++f<e;)l&&l[f].run();f=-1,e=h.length}l=null,c=!1,a(t)}}function r(t,e){this.fun=t,this.array=e}function s(){}var o,a,u=t.exports={};!function(){try{o=setTimeout}catch(t){o=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(t){a=function(){throw new Error("clearTimeout is not defined")}}}();var l,h=[],c=!1,f=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new r(t,e)),1!==h.length||c||o(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){function t(t,i){function n(e,n,s){var o=t._defer(),a=s.length,u=new Array(a);return r({f:e,thisArg:n,args:s,params:u,i:a-1,call:i},o._handler),o}function r(e,n){if(e.i<0)return i(e.f,e.thisArg,e.params,n);var r=t._handler(e.args[e.i]);r.fold(s,e,void 0,n)}function s(t,e,i){t.params[t.i]=e,t.i-=1,r(t,i)}return arguments.length<2&&(i=e),n}function e(t,e,i,n){try{n.resolve(t.apply(e,i))}catch(r){n.reject(r)}}return t.tryCatchResolve=e,t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){function t(){return{state:"pending"}}function e(t){return{state:"rejected",reason:t}}function i(t){return{state:"fulfilled",value:t}}function n(n){var r=n.state();return 0===r?t():r>0?i(n.value):e(n.value)}return{pending:t,fulfilled:i,rejected:e,inspect:n}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var r=t,s=e,o=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,s);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,i=o,n=!0,a=l=void 0}},u=i(4),l=n(u),h=i(3),c=n(h),f=i(11),d=n(f),p=i(7),_=n(p),m=i(10),v=n(m),g=c["default"].mat4,y=c["default"].vec3,b=(y.create(),y.fromValues(0,1,0)),x=y.create(),w=2e3,T=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.fov=1.4,this._view=g.create(),this._proj=g.create(),this._viewProj=g.create(),this.radius=25,this._radius=4,this.panX=0,this.panY=0,this._pan=[0,0],this.x=0,this.y=0,this.z=0,g.identity(this._view),this.startTime=Date.now(),this.lookX=0,this.lookY=0,this.lookZ=0;var t=l["default"].addFolder("camera");t.add(this,"panX",0,1),t.add(this,"panY",0,1),t.add(this,"radius",0,10),t.add(this,"y",-10,10),t.add(this,"lookX",-10,10),t.add(this,"lookY",-10,10),t.add(this,"lookZ",-10,10),t.add(this,"fov",0,Math.PI),this.onMouseMove=this._onMouseMove.bind(this),this.onMouseDown=this._onMouseDown.bind(this),this.onMouseWheel=this._onMouseWheel.bind(this),this.mouseStartPan=[0,0],this.mousePan=[0,0],_["default"].on("mousemove",this.onMouseMove),_["default"].on("mousedown",this.onMouseDown)}return s(e,t),o(e,[{key:"_onMouseWheel",value:function(t){var e=t.deltaY<0?1:-1;this._radius+=.3*e}},{key:"_onMouseMove",value:function(t){_["default"].down&&(this.mousePan[0]=t.x-this.mouseStartPan[0],this.mousePan[1]=t.y-this.mouseStartPan[1],this.mouseStartPan=[t.x,t.y],this._pan[0]+=this.mousePan[0],this._pan[1]+=this.mousePan[1],this._pan[1]=Math.max(-1,Math.min(this._pan[1],1)))}},{key:"_onMouseDown",value:function(t){this.mouseStartPan=[t.x,t.y]}},{key:"update",value:function(t,e){var i=Date.now()-this.startTime;c["default"].mat4.perspective(this._proj,this.fov,t/e,.1,1e3);var n=v["default"].easeOutCubic(Math.min(1,i/w)),r=this.radius+(this._radius-this.radius)*n;this.panX-=(this.panX-this._pan[0])/10,this.panY-=(this.panY-this._pan[1])/10;var s=this.panX*Math.PI*2,o=(this.panY+1)/2*Math.PI;this.z=Math.cos(s)*r,this.x=Math.sin(s)*r,this.y=Math.cos(o)*r,y.set(x,this.x,this.y,this.z);var a=[this.lookX,this.lookY,this.lookZ];g.lookAt(this._view,x,a,b),this.updateViewProjectionMatrix()}},{key:"updateViewProjectionMatrix",value:function(){g.multiply(this._viewProj,this._proj,this._view)}},{key:"modelViewProjectionMatrix",value:function(t,e){g.multiply(t,this._viewProj,e)}},{key:"modelViewMatrix",value:function(t,e){g.multiply(t,this._view,e)}}]),e}(d["default"]);e["default"]=T,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),a=n(o),u=i(15),l=n(u),h=i(8),c=n(h),f=i(4),d=(n(f),i(5)),p=n(d),_=a["default"].mat4,m=null,v=_.create(),g=function(){function t(e){r(this,t),this.gl=e,null==m&&(m=(0,l["default"])(e)),this.geom=(0,c["default"])(),this._wmatrix=_.create(),this._wmatrix[12]=0,this._wmatrix[13]=0,this._wmatrix[14]=0,_.scale(this._wmatrix,this._wmatrix,[-50,-50,-50]),this.prg=m,this.indicesBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.geom.indices),e.STATIC_DRAW),this.indicesBuffer.numItems=this.geom.indices.length,this.verticesBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.geom.vertices),e.STATIC_DRAW),this.verticesBuffer.itemSize=this.geom.itemSize,this.verticesBuffer.numItems=this.geom.vertices.length/this.geom.itemSize,this.texture=p["default"].getTexture("env_green"),this.prg.use()}return s(t,[{key:"render",value:function(t,e){var i=this.gl;e||(this.prg.use(),i.bindBuffer(i.ARRAY_BUFFER,this.verticesBuffer),i.enableVertexAttribArray(this.prg.aVertexPosition()),i.vertexAttribPointer(this.prg.aVertexPosition(),this.verticesBuffer.itemSize,i.FLOAT,!1,0,0),this._wmatrix[12]=t.x,this._wmatrix[13]=t.y,this._wmatrix[14]=t.z,t.modelViewProjectionMatrix(v,this._wmatrix),m.uMVP(v),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),i.uniform1i(this.prg.program.tCube,0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_CUBE_MAP,this.texture),i.drawElements(i.TRIANGLES,this.indicesBuffer.numItems,i.UNSIGNED_SHORT,0))}}]),t}();e["default"]=g,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(30),a=n(o),u=i(9),l=n(u),h=i(4),c=n(h),f=i(3),d=n(f),p=null,_=d["default"].mat4,m=d["default"].mat3,v=d["default"].quat,g=d["default"].vec3,y=m.create(),b=_.create(),x=(g.create(),v.fromValues(0,0,0,0)),w=function(){function t(e){r(this,t),this.gl=e,null==p&&(p=(0,a["default"])(e)),this.geom=(0,l["default"])(),this.uvs=this.geom.uvs,this.prg=p,this.verticesBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.bufferData(e.ARRAY_BUFFER,this.geom.vertices,e.STATIC_DRAW),this.verticesBuffer.itemSize=this.geom.itemSize,this.verticesBuffer.numItems=this.geom.vertices.length/this.geom.itemSize,this.uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),this.x=0,this.y=0,this.z=0,this._wmatrix=_.create(),this._wmatrix[12]=this.x,this._wmatrix[13]=this.y,this._wmatrix[14]=this.z,this.startTime=Date.now(),this.reveal=0;var i=c["default"].addFolder("light");i.add(this,"reveal",0,1),this.prg.use()}return s(t,[{key:"show",value:function(){TweenMax.fromTo(this,2.5,{reveal:0},{reveal:1})}},{key:"render",value:function(t,e){var i=this.gl;if(e){var n=Date.now()-this.startTime;this.prg.use(),i.bindBuffer(i.ARRAY_BUFFER,this.verticesBuffer),i.enableVertexAttribArray(this.prg.aVertexPosition()),i.vertexAttribPointer(this.prg.aVertexPosition(),this.verticesBuffer.itemSize,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.uvBuffer),i.enableVertexAttribArray(this.prg.aUv()),i.vertexAttribPointer(this.prg.aUv(),2,i.FLOAT,!1,0,0),this._wmatrix[12]=this.x,this._wmatrix[13]=this.y,this._wmatrix[14]=this.z,t.modelViewMatrix(b,this._wmatrix),m.fromMat4(y,b),v.fromMat3(x,y),v.invert(x,x),_.fromRotationTranslation(b,x,[0,0,0]),t.modelViewProjectionMatrix(b,b),this.prg.uMVP(b),this.prg.uReveal(this.reveal),this.prg.uTime(n),i.drawArrays(i.TRIANGLE_STRIP,0,this.verticesBuffer.numItems)}}}]),t}();e["default"]=w,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var r=t,s=e,o=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,s);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=s,i=o,n=!0,a=l=void 0}},u=i(3),l=n(u),h=i(11),c=n(h),f=i(7),d=(n(f),i(4)),p=(n(d),i(29)),_=n(p),m=i(10),v=n(m),g=i(32),y=n(g),b=i(61),x=n(b),w=i(5),T=n(w),A=null,E=l["default"].mat4,R=(l["default"].quat,E.create()),P=3e3,M=function(t){function e(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.gl=t,null==A&&(A=(0,y["default"])(t)),this.prg=A,this.startTime=Date.now(),this.x=i.x||0,this.y=i.y||0,this.z=i.z||0,this.wire=i.wire||!1,this._wmatrix=E.create(),this.__wmatrix=this._wmatrix,this._wmatrix[12]=this.x,this._wmatrix[13]=this.y,this._wmatrix[14]=this.z,this._x=i.startX?i.startX:5*Math.random(),this._y=i.startY?i.startY:5*Math.random(),this._z=i.startZ?i.startZ:5*Math.random(),this.geom=_["default"].parseFlattern(x["default"]);var n=this.geom.vertices,s=this.geom.normals,o=this.geom.uvs;this.verticesBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),this.verticesBuffer.itemSize=3,this.verticesBuffer.numItems=n.length/3,this.uvsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.uvsBuffer),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),this.uvsBuffer.itemSize=2,this.uvsBuffer.numItems=o.length/2,this.normals=s,this.normalsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalsBuffer),t.bufferData(t.ARRAY_BUFFER,s,t.STATIC_DRAW),this.normalsBuffer.itemSize=3,this.normalsBuffer.numItems=s.length/3,this.updateTexture("crater"),this.edgeIndex=null,this.edgeAngle=0,this.spinTime=0,this.placed=!1,this.placing=!1,this.lighten=0}return s(e,t),o(e,[{key:"updateTexture",value:function(t){this.tDiffuse=T["default"].getTexture(t+"_D"),this.tNormalMap=T["default"].getTexture(t+"_N"),this.tAmbiantOcclusion=T["default"].getTexture(t+"_AO")}},{key:"rotateFromEdge",value:function(t,e){this.edgeAngle+=t,this.edgeIndex=e;var i=this.edgeIndex,n=this.geom.vertices,r=[n[3*i],n[3*i+1],n[3*i+2]],s=[n[3*(i+1)],n[3*(i+1)+1],n[3*(i+1)+2]],o=[r[0]-s[0],r[1]-s[1],r[2]-s[2]],a=r,u=[-a[0],-a[1],-a[2]];E.translate(this.__wmatrix,this._wmatrix,a),E.rotate(this.__wmatrix,this.__wmatrix,t,o),E.translate(this.__wmatrix,this.__wmatrix,u)}},{key:"getNormalByFace",value:function(t){var e=this.normals;return[e[9*t],e[9*t+1],e[9*t+2]]}},{key:"setPlaced",value:function(){this.placed=!0,this.placing=!1,this.startPlacing=null,TweenMax.fromTo(this,1,{lighten:0},{lighten:.75}),this.emit("placed")}},{key:"place",value:function(){this.placed=!1,this.placing=!0,this.startPlacing=Date.now()}},{key:"render",value:function(t,e){var i=this.gl,n=Date.now()-this.startTime;this.prg.use(),i.bindBuffer(i.ARRAY_BUFFER,this.verticesBuffer),i.enableVertexAttribArray(this.prg.aVertexPosition()),i.vertexAttribPointer(this.prg.aVertexPosition(),this.verticesBuffer.itemSize,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.uvsBuffer),i.enableVertexAttribArray(this.prg.aUv()),i.vertexAttribPointer(this.prg.aUv(),this.uvsBuffer.itemSize,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,this.normalsBuffer),i.enableVertexAttribArray(this.prg.aNormal()),i.vertexAttribPointer(this.prg.aNormal(),this.normalsBuffer.itemSize,i.FLOAT,!1,0,0),this.prg.uM(this._wmatrix);var r=[this.x,this.y,this.z];if(!this.placed){var s=Date.now()-this.startPlacing,o=v["default"].easeOutCubic(Math.min(1,s/P));1==o&&this.setPlaced();var a=this._x+(this.x-this._x)*o,u=this._y+(this.y-this._y)*o,l=this._z+(this.z-this._z)*o;r=[a,u,l],this.placing||(r=[this._x,this._y,this._z])}E.translate(R,this.__wmatrix,r),t.modelViewProjectionMatrix(R,R),this.prg.uMVP(R),this.prg.ambientColor([.3,.3,.3,1]),this.prg.diffuseColor([1,.9,1,1]),this.prg.uCameraPosition([t.x,t.y,t.z]),this.prg.uLightRender(e),this.prg.uLight(this.wire);var h=this.placed?Math.cos(n/100)/8:0;this.prg.uLighten(this.lighten+h),i.uniform1i(this.prg.tDiffuse(),0),i.uniform1i(this.prg.tNormalMap(),1),i.uniform1i(this.prg.tAmbiantOcclusion(),2),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.tDiffuse),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,this.tNormalMap),i.activeTexture(i.TEXTURE2),i.bindTexture(i.TEXTURE_2D,this.tAmbiantOcclusion),this.wire?i.drawArrays(i.LINE_LOOP,0,this.verticesBuffer.numItems):i.drawArrays(i.TRIANGLES,0,this.verticesBuffer.numItems)}}]),e}(c["default"]);e["default"]=M,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),a=n(o),u=i(15),l=n(u),h=i(8),c=n(h),f=i(5),d=n(f),p=a["default"].mat4,_=null,m=p.create(),v=function(){function t(e){r(this,t),this.gl=e,this.FBO=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this.FBO),this.fboSampleSize=2048,this.FBO.width=this.fboSampleSize,this.FBO.height=this.fboSampleSize,this.FBOTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.FBOTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.fboSampleSize,this.fboSampleSize,0,e.RGBA,e.UNSIGNED_BYTE,null),this.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.fboSampleSize,this.fboSampleSize),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.FBOTexture,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.renderbuffer),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),null==_&&(_=(0,l["default"])(e)),this.geom=(0,c["default"])(),this._wmatrix=p.create(),this._wmatrix[12]=0,this._wmatrix[13]=0,this._wmatrix[14]=0,p.scale(this._wmatrix,this._wmatrix,[.5,.5,.5]),this.prg=_,this.indicesBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.geom.indices),e.STATIC_DRAW),this.indicesBuffer.numItems=this.geom.indices.length,this.verticesBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.geom.vertices),e.STATIC_DRAW),this.verticesBuffer.itemSize=this.geom.itemSize,this.verticesBuffer.numItems=this.geom.vertices.length/this.geom.itemSize,this.texture=d["default"].getTexture("env"),this.prg.use()}return s(t,[{key:"render",value:function(t){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.FBO),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.viewport(0,0,this.FBO.width,this.FBO.height),this.prg.use(),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.enableVertexAttribArray(this.prg.aVertexPosition()),e.vertexAttribPointer(this.prg.aVertexPosition(),this.verticesBuffer.itemSize,e.FLOAT,!1,0,0),this._wmatrix[12]=t.x,this._wmatrix[13]=t.y,this._wmatrix[14]=t.z,t.modelViewProjectionMatrix(m,this._wmatrix),_.uMVP(m),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.uniform1i(this.prg.tCube(),0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_CUBE_MAP,this.texture),e.drawElements(e.TRIANGLES,this.indicesBuffer.numItems,e.UNSIGNED_SHORT,0),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null)}}]),t}();e["default"]=v,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(33),a=n(o),u=i(9),l=n(u),h=i(4),c=n(h),f=i(5),d=(n(f),i(7)),p=n(d),_=i(3),m=n(_),v=i(8),g=(n(v),m["default"].mat4),y=(g.create(),null),b=function(){function t(e,i){var n=this;r(this,t),this.gl=e,null==y&&(y=(0,a["default"])(e)),this.geom=(0,l["default"])(),this.uvs=this.geom.uvs,this.prg=y,this.verticesBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.bufferData(e.ARRAY_BUFFER,this.geom.vertices,e.STATIC_DRAW),this.verticesBuffer.itemSize=this.geom.itemSize,this.verticesBuffer.numItems=this.geom.vertices.length/this.geom.itemSize,this.uvs&&(this.textureBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.textureBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW)),this.prg.use(),this.startTime=Date.now(),this.radius=0;var s=c["default"].addFolder("warp");s.add(this,"radius",0,1),this.texture=i,document.addEventListener("mousedown",function(){n.hide()}),document.addEventListener("mouseup",function(){n.show()})}return s(t,[{key:"hide",value:function(){TweenMax.killTweensOf(this),TweenMax.to(this,2,{radius:.85,ease:Power2.easeOut})}},{key:"show",value:function(){TweenMax.killTweensOf(this),TweenMax.to(this,2,{radius:0,ease:Power2.easeInOut})}},{key:"render",value:function(t,e){if(!e){var i=this.gl;this.prg.use();var n=Date.now()-this.startTime;i.bindBuffer(i.ARRAY_BUFFER,this.verticesBuffer),i.enableVertexAttribArray(this.prg.aVertexPosition()),i.vertexAttribPointer(this.prg.aVertexPosition(),this.verticesBuffer.itemSize,i.FLOAT,!1,0,0),this.textureBuffer&&(i.bindBuffer(i.ARRAY_BUFFER,this.textureBuffer),i.enableVertexAttribArray(this.prg.aUv()),i.vertexAttribPointer(this.prg.aUv(),2,i.FLOAT,!1,0,0)),this.prg.uMouse([p["default"].x,p["default"].y]),this.prg.uTime(n),this.prg.uRadius(this.radius),i.uniform1i(this.prg.uSampler(),0),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.texture),i.drawArrays(i.TRIANGLE_STRIP,0,this.verticesBuffer.numItems),i.bindTexture(i.TEXTURE_2D,null)}}}]),t}();e["default"]=b,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={parseFlattern:function(t){var e=new Float32Array(9*t.facePositions.length),i=new Float32Array(9*t.facePositions.length),n=new Float32Array(9*t.facePositions.length),r=0,s=0,o=0;return t.facePositions.forEach(function(i){i.forEach(function(i){for(s=0;3>s;s++)e[r]=t.vertexPositions[i][s],r+=1}),o+=1}),r=0,s=0,t.faceNormals.forEach(function(e){e.forEach(function(e){for(s=0;3>s;s++)i[r]=t.vertexNormals[e][s],r+=1})}),r=0,s=0,t.faceUVs.forEach(function(e){e.forEach(function(e){for(s=0;2>s;s++)n[r]=t.vertexUVs[e][s],r+=1})}),{vertices:e,normals:i,uvs:n}}},t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e["default"]=function(t){return new n(t,i(53)(),i(52)())},t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e["default"]=function(t){return new n(t,i(55)(),i(54)())},t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e["default"]=function(t){return new n(t,i(57)(),i(56)())},t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e["default"]=function(t){return new n(t,i(59)(),i(58)())},t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),a=(n(o),i(10)),u=(n(a),i(7)),l=n(u),h=i(38),c=n(h),f=i(5),d=n(f),p=i(4),_=n(p),m=i(36),v=n(m),g=i(37),y=n(g),b=i(23),x=n(b),w=i(14),T=n(w),A=i(13),E=n(A),R=i(24),P=n(R),M=i(26),O=n(M),S=i(25),C=n(S),k=i(28),B=n(k),F=i(27),D=n(F),N=0,U=5e3,L=function(){function t(){var e=this;r(this,t),this.camera=new x["default"],this.renderer=new v["default"](document.getElementById("canvas")),l["default"].setUp(document.getElementById("canvas")),this.scene=new y["default"](this.renderer.gl),this.loop=this._loop.bind(this),this.onResize=this._onResize.bind(this),window.addEventListener("resize",this.onResize),this.onResize(),d["default"].setup(this.renderer.gl),this.loop();var i=_["default"].addFolder("texture"),n={t:"crater"};i.add(n,"t",["granite","adams","crater","eroded","sand","volcanic","solar"]).onChange(function(t){for(var i=0;i<e.tetrahedrons.length;i++)e.tetrahedrons[i].updateTexture(t)})}return s(t,[{key:"load",value:function(){var t=this;return d["default"].load().then(function(){t.initObjects()})}},{key:"start",value:function(){c["default"].playing=!0,N=Date.now(),this.camera.startTime=Date.now()}},{key:"initObjects",value:function(){var t=this;this.tetrahedrons=[];for(var e=0;4>e;e++){var i=new O["default"](this.renderer.gl,{x:0,y:0,z:0,wire:!1});i.rotateFromEdge(-Math.acos(1/3),0),i.step=e;for(var n=0,r=0;r<i.step;r++){i.edgeAngle=0,i.spinTime=0;var s=n%3==0?-1:1;3==r&&(s=-s);var o=s*(2*Math.PI-2*Math.acos(1/3));i.rotateFromEdge(o,n),n=this.getEdgeIndexByStep(n,r+1),i.edgeIndex=n}var o=i.getNormalByFace(1),a=1;2==e&&(a=-1),i._x=a*o[0]*(2+20*Math.random()),i._y=a*o[1]*(2+20*Math.random()),i._z=a*o[2]*(2+20*Math.random()),i.edgeAngle=0,i.spinTime=0,this.tetrahedrons.push(i),this.scene.addObject(i),i.place()}this.innerLight=new C["default"](this.renderer.gl),this.scene.addObject(this.innerLight),this.env=new P["default"](this.renderer.gl),this.scene.addObject(this.env),this.tetrahedrons[0].on("placed",function(){t.innerLight.show()}),this.lightFBO=new E["default"](this.renderer.gl),this.lightMap=new T["default"](this.renderer.gl,this.lightFBO.FBOTexture),this.scene.addObject(this.lightMap),this.warpFBO=new D["default"](this.renderer.gl),this.warp=new B["default"](this.renderer.gl,this.warpFBO.FBOTexture),this.scene.addObject(this.warp)}},{key:"_onResize",value:function(){this.w=window.innerWidth,this.h=window.innerHeight,this.camera.update(this.w,this.h),this.renderer.resize()}},{key:"_loop",value:function(t){if(!c["default"].playing)return void window.requestAnimationFrame(this.loop);var e=Date.now()-N;this.rotateTetra(e),this.camera.update(this.w,this.h);var i=this.renderer.gl;i.enable(i.DEPTH_TEST),i.disable(i.BLEND),this.lightFBO.render(this.scene,this.camera),this.warpFBO.render(this.camera),this.renderer.render(this.scene,this.camera),window.requestAnimationFrame(this.loop)}},{key:"rotateTetra",value:function(t){for(var e=0;e<this.tetrahedrons.length;e++){var i=this.tetrahedrons[e],n=(t-i.spinTime)/U,r=i.edgeIndex%3==0?-1:1;3==i.step&&(r=-r);var s=r*(2*Math.PI-2*Math.acos(1/3))*Math.max(0,Math.min(1,n));i.rotateFromEdge(s-i.edgeAngle,i.edgeIndex),n>1&&(i.edgeAngle=0,i.spinTime=t,i.step+=1,i.step>4&&(i.edgeIndex=0,i.step=1,i.edgeIndex=0),i.edgeIndex=this.getEdgeIndexByStep(i.edgeIndex,i.step))}}},{key:"getEdgeIndexByStep",value:function(t,e){var i=3==e?3:2;return 4!=e?t+i:0}}]),t}();e["default"]=L,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=i(63),s=(n(r),i(34)),o=n(s),a=i(39);n(a);document.addEventListener("DOMContentLoaded",function(t){var e=new o["default"];e.load().then(function(){e.start()})})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(14),a=(n(o),i(13)),u=(n(a),function(){function t(e){r(this,t),this.cvs=e,this.gl=e.getContext("webgl",{premultipliedAlpha:!0}),this.wWidth=window.innerWidth,this.wHeight=window.innerHeight;this.gl;this.resize()}return s(t,[{key:"resize",value:function(){var t=this.gl,e=this.cvs;this.wWidth=window.innerWidth,this.wHeight=window.innerHeight,e.style.width=this.wWidth+"px",e.style.height=this.wHeight+"px",e.width=this.wWidth,e.height=this.wHeight,t.viewportWidth=e.width,t.viewportHeight=e.height,t.viewport(0,0,e.width,e.height)}},{key:"render",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=this.gl;this.defaultConf(),t.render(e,!1),i.disable(i.DEPTH_TEST)}},{key:"defaultConf",value:function(){var t=this.gl;t.viewport(0,0,this.cvs.width,this.cvs.height),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.cullFace(t.BACK),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)}}]),t}());e["default"]=u,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),a=n(o),u=(a["default"].vec3.create(),a["default"].vec3.create(),function(){function t(e){r(this,t),this.gl=e,this.objects=[]}return s(t,[{key:"getObjects",value:function(){return this.objects}},{key:"addObject",value:function(t){this.objects.push(t)}},{key:"initTime",value:function(){for(var t=0;t<this.objects.length;t++)this.objects[t].loaded=!0,this.objects[t].startTime=Date.now()+200+2*t}},{key:"render",value:function(t,e){for(var i=0,n=this.objects.length;n>i;i++)this.objects[i].render(t,e)}}]),t}());e["default"]=u,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={playing:!1};e["default"]=i,t.exports=e["default"]},function(t,e,i){"use strict";i(60)},function(t,e,i){e=t.exports=i(41)(),e.push([t.id,"abbr,address,article,aside,audio,b,blockquote,body,body div,caption,cite,code,dd,del,details,dfn,dl,dt,em,fieldset,figure,footer,form,h1,h2,h3,h4,h5,h6,header,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,samp,section,small,span,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font-weight:400;vertical-align:baseline;background:transparent}article,aside,details,figure,footer,header,nav,section,summary{display:block}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}embed,img,object{max-width:100%}html{overflow-y:scroll}ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted #000;cursor:help}table{border-collapse:collapse;border-spacing:0}th{font-weight:700;vertical-align:bottom}td{font-weight:400;vertical-align:top}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}pre{white-space:pre;white-space:pre-wrap;white-space:pre-line;word-wrap:break-word}input[type=radio]{vertical-align:text-bottom}input[type=checkbox]{vertical-align:bottom}.ie7 input[type=checkbox]{vertical-align:baseline}.ie6 input{vertical-align:text-bottom}input,select,textarea{font:99% sans-serif}table{font-size:inherit;font:100%}small{font-size:85%}strong{font-weight:700}td,td img{vertical-align:top}sub,sup{font-size:75%;line-height:0;position:relative}sup{top:-.5em}sub{bottom:-.25em}code,kbd,pre,samp{font-family:monospace,sans-serif}.clickable,button,input[type=button],input[type=file],input[type=submit],label{cursor:pointer}button,input,select,textarea{margin:0}button,input[type=button]{width:auto;overflow:visible}.ie7 img{-ms-interpolation-mode:bicubic}.clearfix:after,.clearfix:before{content:\" \";display:block;height:0;overflow:hidden}.clearfix:after{clear:both}.clearfix{zoom:1}a{text-decoration:none;color:#fff}#canvas,body,html{width:100%;height:100%;margin:0;padding:0;background:#000;position:relative;overflow:hidden;cursor:grab;cursor:-webkit-grab}#canvas:active,body:active,html:active{cursor:grabbing;cursor:-webkit-grabbing}h1{text-transform:uppercase;color:#fff;font-family:Helvetica,Arial;font-weight:700;font-size:50px;text-shadow:1px 1px #1565c0;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#iframe-music,h1{position:absolute;top:50%;left:50%}#iframe-music{pointer-events:none;margin-top:-200px;margin-left:-200px;z-index:10;-webkit-perspective:200;perspective:200;opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px);-webkit-transition:opacity .4s linear,-webkit-transform .4s ease-out;transition:opacity .4s linear,-webkit-transform .4s ease-out;transition:transform .4s ease-out,opacity .4s linear;transition:transform .4s ease-out,opacity .4s linear,-webkit-transform .4s ease-out}#iframe-music.active{pointer-events:inherit;opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(n[s]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(t,e,i){t.exports=i(44),t.exports.color=i(43)},function(t,e){var i=t.exports=i||{};i.color=i.color||{},i.utils=i.utils||{},i.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var i in e)this.isUndefined(e[i])||(t[i]=e[i])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var i in e)this.isUndefined(t[i])&&(t[i]=e[i]);
},this),t},compose:function(){var t=e.call(arguments);return function(){for(var i=e.call(arguments),n=t.length-1;n>=0;n--)i=[t[n].apply(this,i)];return i[0]}},each:function(e,i,n){if(t&&e.forEach===t)e.forEach(i,n);else if(e.length===e.length+0){for(var r=0,s=e.length;s>r;r++)if(r in e&&i.call(n,e[r],r)===this.BREAK)return}else for(var r in e)if(i.call(n,e[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),i.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var i=e.hex.toString(16);i.length<6;)i="0"+i;return"#"+i}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(i.utils.common),i.Color=i.color.Color=function(t,e,i,n){function r(t,e,i){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(o(this,e,i),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(o(this,e,i),this.__state.space="RGB"),this.__state[e]=t}})}function s(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(a(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[e]=t}})}function o(t,i,r){if("HEX"===t.__state.space)t.__state[i]=e.component_from_hex(t.__state.hex,r);else{if("HSV"!==t.__state.space)throw"Corrupted color state";n.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function a(t){var i=e.rgb_to_hsv(t.r,t.g,t.b);n.extend(t.__state,{s:i.s,v:i.v}),n.isNaN(i.h)?n.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=i.h}var u=function(){if(this.__state=t.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return u.COMPONENTS=["r","g","b","h","s","v","hex","a"],n.extend(u.prototype,{toString:function(){return i(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),r(u.prototype,"r",2),r(u.prototype,"g",1),r(u.prototype,"b",0),s(u.prototype,"h"),s(u.prototype,"s"),s(u.prototype,"v"),Object.defineProperty(u.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(u.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),u}(i.color.interpret=function(t,e){var i,n,r=function(){n=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(s,function(r){return r.litmus(t)?(e.each(r.conversions,function(r,s){return i=r.read(t),n===!1&&i!==!1?(n=i,i.conversionName=s,i.conversion=r,e.BREAK):void 0}),e.BREAK):void 0}),n},s=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return r}(i.color.toString,i.utils.common),i.color.math=function(){var t;return{hsv_to_rgb:function(t,e,i){var n=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),s=i*(1-e),o=i*(1-r*e),a=i*(1-(1-r)*e),u=[[i,a,s],[o,i,s],[s,i,a],[s,o,i],[a,s,i],[i,s,o]][n];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,i){var n,r,s=Math.min(t,e,i),o=Math.max(t,e,i),a=o-s;return 0==o?{h:NaN,s:0,v:0}:(r=a/o,n=t==o?(e-i)/a:e==o?2+(i-t)/a:4+(t-e)/a,n/=6,0>n&&(n+=1),{h:360*n,s:r,v:o/255})},rgb_to_hex:function(t,e,i){var n=this.hex_with_component(0,2,t);return n=this.hex_with_component(n,1,e),n=this.hex_with_component(n,0,i)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,i,n){return n<<(t=8*i)|e&~(255<<t)}}}(),i.color.toString,i.utils.common)},function(t,e){var i=t.exports=i||{};i.gui=i.gui||{},i.utils=i.utils||{},i.controllers=i.controllers||{},i.dom=i.dom||{},i.color=i.color||{},i.utils.css=function(){return{load:function(t,e){e=e||document;var i=e.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=t,e.getElementsByTagName("head")[0].appendChild(i)},inject:function(t,e){e=e||document;var i=document.createElement("style");i.type="text/css",i.innerHTML=t,e.getElementsByTagName("head")[0].appendChild(i)}}}(),i.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var i in e)this.isUndefined(e[i])||(t[i]=e[i])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var i in e)this.isUndefined(t[i])&&(t[i]=e[i])},this),t},compose:function(){var t=e.call(arguments);return function(){for(var i=e.call(arguments),n=t.length-1;n>=0;n--)i=[t[n].apply(this,i)];return i[0]}},each:function(e,i,n){if(t&&e.forEach===t)e.forEach(i,n);else if(e.length===e.length+0){for(var r=0,s=e.length;s>r;r++)if(r in e&&i.call(n,e[r],r)===this.BREAK)return}else for(var r in e)if(i.call(n,e[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),i.controllers.Controller=function(t){var e=function(t,e){this.initialValue=t[e],this.domElement=document.createElement("div"),this.object=t,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0};return t.extend(e.prototype,{onChange:function(t){return this.__onChange=t,this},onFinishChange:function(t){return this.__onFinishChange=t,this},setValue:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),e}(i.utils.common),i.dom.dom=function(t){function e(e){if("0"===e||t.isUndefined(e))return 0;var i=e.match(r);return t.isNull(i)?0:parseFloat(i[1])}var i={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},n={};t.each(i,function(e,i){t.each(e,function(t){n[t]=i})});var r=/(\d+(\.\d+)?)px/,s={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(e,i,n){t.isUndefined(i)&&(i=!0),t.isUndefined(n)&&(n=!0),e.style.position="absolute",i&&(e.style.left=0,e.style.right=0),n&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,i,r,s){r=r||{};var o=n[i];if(!o)throw new Error("Event type "+i+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":var u=r.x||r.clientX||0,l=r.y||r.clientY||0;a.initMouseEvent(i,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,u,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var h=a.initKeyboardEvent||a.initKeyEvent;t.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),h(i,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:a.initEvent(i,r.bubbles||!1,r.cancelable||!0)}t.defaults(a,s),e.dispatchEvent(a)},bind:function(t,e,i,n){return n=n||!1,t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i),s},unbind:function(t,e,i,n){return n=n||!1,t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent&&t.detachEvent("on"+e,i),s},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var i=t.className.split(/ +/);-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return s},removeClass:function(t,e){if(e)if(void 0===t.className);else if(t.className===e)t.removeAttribute("class");else{var i=t.className.split(/ +/),n=i.indexOf(e);-1!=n&&(i.splice(n,1),t.className=i.join(" "))}else t.className=void 0;return s},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var i=getComputedStyle(t);return e(i["border-left-width"])+e(i["border-right-width"])+e(i["padding-left"])+e(i["padding-right"])+e(i.width)},getHeight:function(t){var i=getComputedStyle(t);return e(i["border-top-width"])+e(i["border-bottom-width"])+e(i["padding-top"])+e(i["padding-bottom"])+e(i.height)},getOffset:function(t){var e={left:0,top:0};if(t.offsetParent)do e.left+=t.offsetLeft,e.top+=t.offsetTop;while(t=t.offsetParent);return e},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};return s}(i.utils.common),i.controllers.OptionController=function(t,e,i){var n=function(t,r,s){n.superclass.call(this,t,r);var o=this;if(this.__select=document.createElement("select"),i.isArray(s)){var a={};i.each(s,function(t){a[t]=t}),s=a}i.each(s,function(t,e){var i=document.createElement("option");i.innerHTML=e,i.setAttribute("value",t),o.__select.appendChild(i)}),this.updateDisplay(),e.bind(this.__select,"change",function(){var t=this.options[this.selectedIndex].value;o.setValue(t)}),this.domElement.appendChild(this.__select)};return n.superclass=t,i.extend(n.prototype,t.prototype,{setValue:function(t){var e=n.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),n.superclass.prototype.updateDisplay.call(this)}}),n}(i.controllers.Controller,i.dom.dom,i.utils.common),i.controllers.NumberController=function(t,e){function i(t){return t=t.toString(),t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var n=function(t,r,s){n.superclass.call(this,t,r),s=s||{},this.__min=s.min,this.__max=s.max,this.__step=s.step,e.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=i(this.__impliedStep)};return n.superclass=t,e.extend(n.prototype,t.prototype,{setValue:function(t){return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,t)},min:function(t){return this.__min=t,this},max:function(t){return this.__max=t,this},step:function(t){return this.__step=t,this}}),n}(i.controllers.Controller,i.utils.common),i.controllers.NumberControllerBox=function(t,e,i){function n(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i}var r=function(t,n,s){function o(){var t=parseFloat(f.__input.value);i.isNaN(t)||f.setValue(t)}function a(){o(),f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function u(t){e.bind(window,"mousemove",l),e.bind(window,"mouseup",h),c=t.clientY}function l(t){var e=c-t.clientY;f.setValue(f.getValue()+e*f.__impliedStep),c=t.clientY}function h(){e.unbind(window,"mousemove",l),e.unbind(window,"mouseup",h)}this.__truncationSuspended=!1,r.superclass.call(this,t,n,s);var c,f=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"change",o),e.bind(this.__input,"blur",a),e.bind(this.__input,"mousedown",u),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&(f.__truncationSuspended=!0,this.blur(),f.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=t,i.extend(r.prototype,t.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():n(this.getValue(),this.__precision),r.superclass.prototype.updateDisplay.call(this)}}),r}(i.controllers.NumberController,i.dom.dom,i.utils.common),i.controllers.NumberControllerSlider=function(t,e,i,n,r){function s(t,e,i,n,r){return n+(r-n)*((t-e)/(i-e))}var o=function(t,i,n,r,a){function u(t){e.bind(window,"mousemove",l),e.bind(window,"mouseup",h),l(t)}function l(t){t.preventDefault();var i=e.getOffset(c.__background),n=e.getWidth(c.__background);return c.setValue(s(t.clientX,i.left,i.left+n,c.__min,c.__max)),!1}function h(){e.unbind(window,"mousemove",l),e.unbind(window,"mouseup",h),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}o.superclass.call(this,t,i,{min:n,max:r,step:a});var c=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),e.bind(this.__background,"mousedown",u),e.addClass(this.__background,"slider"),e.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return o.superclass=t,o.useDefaultStyles=function(){i.inject(r)},n.extend(o.prototype,t.prototype,{updateDisplay:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",o.superclass.prototype.updateDisplay.call(this)}}),o}(i.controllers.NumberController,i.dom.dom,i.utils.css,i.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),i.controllers.FunctionController=function(t,e,i){var n=function(t,i,r){n.superclass.call(this,t,i);var s=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===r?"Fire":r,e.bind(this.__button,"click",function(t){return t.preventDefault(),s.fire(),!1}),e.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return n.superclass=t,i.extend(n.prototype,t.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),n}(i.controllers.Controller,i.dom.dom,i.utils.common),i.controllers.BooleanController=function(t,e,i){var n=function(t,i){function r(){s.setValue(!s.__prev)}n.superclass.call(this,t,i);var s=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),e.bind(this.__checkbox,"change",r,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return n.superclass=t,i.extend(n.prototype,t.prototype,{setValue:function(t){var e=n.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,n.superclass.prototype.updateDisplay.call(this)}}),n}(i.controllers.Controller,i.dom.dom,i.utils.common),i.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var i=e.hex.toString(16);i.length<6;)i="0"+i;return"#"+i}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(i.utils.common),i.color.interpret=function(t,e){var i,n,r=function(){n=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(s,function(r){return r.litmus(t)?(e.each(r.conversions,function(r,s){return i=r.read(t),n===!1&&i!==!1?(n=i,i.conversionName=s,i.conversion=r,e.BREAK):void 0}),e.BREAK):void 0}),n},s=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null===e?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===e?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4!=t.length?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return r}(i.color.toString,i.utils.common),i.GUI=i.gui.GUI=function(t,e,i,n,r,s,o,a,u,l,h,c,f,d,p){function _(t,e,i,s){if(void 0===e[i])throw new Error("Object "+e+' has no property "'+i+'"');var o;if(s.color)o=new h(e,i);else{var a=[e,i].concat(s.factoryArgs);o=n.apply(t,a)}s.before instanceof r&&(s.before=s.before.__li),g(t,o),d.addClass(o.domElement,"c");var u=document.createElement("span");d.addClass(u,"property-name"),u.innerHTML=o.property;var l=document.createElement("div");l.appendChild(u),l.appendChild(o.domElement);var c=m(t,l,s.before);return d.addClass(c,L.CLASS_CONTROLLER_ROW),d.addClass(c,typeof o.getValue()),v(t,c,o),t.__controllers.push(o),o}function m(t,e,i){var n=document.createElement("li");return e&&n.appendChild(e),i?t.__ul.insertBefore(n,params.before):t.__ul.appendChild(n),t.onResize(),n}function v(t,e,i){if(i.__li=e,i.__gui=t,p.extend(i,{options:function(e){return arguments.length>1?(i.remove(),_(t,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[p.toArray(arguments)]})):p.isArray(e)||p.isObject(e)?(i.remove(),_(t,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[e]})):void 0},name:function(t){return i.__li.firstElementChild.firstElementChild.innerHTML=t,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof u){var n=new a(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});p.each(["updateDisplay","onChange","onFinishChange"],function(t){var e=i[t],r=n[t];i[t]=n[t]=function(){var t=Array.prototype.slice.call(arguments);return e.apply(i,t),r.apply(n,t)}}),d.addClass(e,"has-slider"),i.domElement.insertBefore(n.domElement,i.domElement.firstElementChild)}else if(i instanceof a){var r=function(e){return p.isNumber(i.__min)&&p.isNumber(i.__max)?(i.remove(),_(t,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]})):e};i.min=p.compose(r,i.min),i.max=p.compose(r,i.max)}else i instanceof s?(d.bind(e,"click",function(){d.fakeEvent(i.__checkbox,"click")}),d.bind(i.__checkbox,"click",function(t){t.stopPropagation()})):i instanceof o?(d.bind(e,"click",function(){d.fakeEvent(i.__button,"click")}),d.bind(e,"mouseover",function(){d.addClass(i.__button,"hover")}),d.bind(e,"mouseout",function(){d.removeClass(i.__button,"hover")})):i instanceof h&&(d.addClass(e,"color"),i.updateDisplay=p.compose(function(t){return e.style.borderLeftColor=i.__color.toString(),t},i.updateDisplay),i.updateDisplay());i.setValue=p.compose(function(e){return t.getRoot().__preset_select&&i.isModified()&&R(t.getRoot(),!0),e},i.setValue)}function g(t,e){var i=t.getRoot(),n=i.__rememberedObjects.indexOf(e.object);if(-1!=n){var r=i.__rememberedObjectIndecesToControllers[n];if(void 0===r&&(r={},i.__rememberedObjectIndecesToControllers[n]=r),r[e.property]=e,i.load&&i.load.remembered){var s,o=i.load.remembered;if(o[t.preset])s=o[t.preset];else{if(!o[B])return;s=o[B]}if(s[n]&&void 0!==s[n][e.property]){var a=s[n][e.property];e.initialValue=a,e.setValue(a)}}}}function y(t,e){return document.location.href+"."+e}function b(t){function e(){l.style.display=t.useLocalStorage?"block":"none"}var i=t.__save_row=document.createElement("li");d.addClass(t.domElement,"has-save"),t.__ul.insertBefore(i,t.__ul.firstChild),d.addClass(i,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",d.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",d.addClass(r,"button"),d.addClass(r,"save");var s=document.createElement("span");s.innerHTML="New",d.addClass(s,"button"),d.addClass(s,"save-as");var o=document.createElement("span");o.innerHTML="Revert",d.addClass(o,"button"),d.addClass(o,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?p.each(t.load.remembered,function(e,i){A(t,i,i==t.preset)}):A(t,B,!1),d.bind(a,"change",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),i.appendChild(a),i.appendChild(n),i.appendChild(r),i.appendChild(s),i.appendChild(o),F){var u=document.getElementById("dg-save-locally"),l=document.getElementById("dg-local-explain");u.style.display="block";var h=document.getElementById("dg-local-storage");"true"===localStorage.getItem(y(t,"isLocal"))&&h.setAttribute("checked","checked"),e(),d.bind(h,"change",function(){t.useLocalStorage=!t.useLocalStorage,e()})}var c=document.getElementById("dg-new-constructor");d.bind(c,"keydown",function(t){!t.metaKey||67!==t.which&&67!=t.keyCode||M.hide()}),d.bind(n,"click",function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),M.show(),c.focus(),c.select()}),d.bind(r,"click",function(){t.save()}),d.bind(s,"click",function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)}),d.bind(o,"click",function(){t.revert()})}function x(t){function e(e){return e.preventDefault(),r=e.clientX,d.addClass(t.__closeButton,L.CLASS_DRAG),d.bind(window,"mousemove",i),d.bind(window,"mouseup",n),!1}function i(e){return e.preventDefault(),t.width+=r-e.clientX,t.onResize(),r=e.clientX,!1}function n(){d.removeClass(t.__closeButton,L.CLASS_DRAG),d.unbind(window,"mousemove",i),d.unbind(window,"mouseup",n)}t.__resize_handle=document.createElement("div"),p.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var r;d.bind(t.__resize_handle,"mousedown",e),d.bind(t.__closeButton,"mousedown",e),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function w(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function T(t,e){var i={};return p.each(t.__rememberedObjects,function(n,r){var s={},o=t.__rememberedObjectIndecesToControllers[r];p.each(o,function(t,i){s[i]=e?t.initialValue:t.getValue()}),i[r]=s}),i}function A(t,e,i){var n=document.createElement("option");n.innerHTML=e,n.value=e,t.__preset_select.appendChild(n),i&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function E(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value==t.preset&&(t.__preset_select.selectedIndex=e)}function R(t,e){var i=t.__preset_select[t.__preset_select.selectedIndex];e?i.innerHTML=i.value+"*":i.innerHTML=i.value}function P(t){0!=t.length&&c(function(){P(t)}),p.each(t,function(t){t.updateDisplay()})}t.inject(i);var M,O,S="dg",C=72,k=20,B="Default",F=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),D=!0,N=!1,U=[],L=function(t){function e(){localStorage.setItem(y(n,"gui"),JSON.stringify(n.getSaveObject()))}function i(){var t=n.getRoot();t.width+=1,p.defer(function(){t.width-=1})}var n=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),d.addClass(this.domElement,S),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=t||{},t=p.defaults(t,{autoPlace:!0,width:L.DEFAULT_WIDTH}),t=p.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),p.isUndefined(t.load)?t.load={preset:B}:t.preset&&(t.load.preset=t.preset),p.isUndefined(t.parent)&&t.hideable&&U.push(this),t.resizable=p.isUndefined(t.parent)&&t.resizable,t.autoPlace&&p.isUndefined(t.scrollable)&&(t.scrollable=!0);var r=F&&"true"===localStorage.getItem(y(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return n.parent?n.getRoot().preset:t.load.preset},set:function(e){n.parent?n.getRoot().preset=e:t.load.preset=e,E(this),n.revert()}},width:{get:function(){return t.width},set:function(e){t.width=e,w(n,e)}},name:{get:function(){return t.name},set:function(e){t.name=e,o&&(o.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(e){t.closed=e,t.closed?d.addClass(n.__ul,L.CLASS_CLOSED):d.removeClass(n.__ul,L.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?L.TEXT_OPEN:L.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return r},set:function(t){F&&(r=t,t?d.bind(window,"unload",e):d.unbind(window,"unload",e),localStorage.setItem(y(n,"isLocal"),t))}}}),p.isUndefined(t.parent)){if(t.closed=!1,d.addClass(this.domElement,L.CLASS_MAIN),d.makeSelectable(this.domElement,!1),F&&r){n.useLocalStorage=!0;var s=localStorage.getItem(y(this,"gui"));s&&(t.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=L.TEXT_CLOSED,d.addClass(this.__closeButton,L.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),d.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===t.closed&&(t.closed=!0);var o=document.createTextNode(t.name);d.addClass(o,"controller-name");var a=m(n,o),u=function(t){return t.preventDefault(),n.closed=!n.closed,!1};d.addClass(this.__ul,L.CLASS_CLOSED),d.addClass(a,"title"),d.bind(a,"click",u),t.closed||(this.closed=!1)}t.autoPlace&&(p.isUndefined(t.parent)&&(D&&(O=document.createElement("div"),d.addClass(O,S),d.addClass(O,L.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(O),D=!1),O.appendChild(this.domElement),d.addClass(this.domElement,L.CLASS_AUTO_PLACE)),this.parent||w(n,t.width)),d.bind(window,"resize",function(){n.onResize()}),d.bind(this.__ul,"webkitTransitionEnd",function(){n.onResize()}),d.bind(this.__ul,"transitionend",function(){n.onResize()}),d.bind(this.__ul,"oTransitionEnd",function(){n.onResize()}),this.onResize(),t.resizable&&x(this);n.getRoot();t.parent||i()};return L.toggleHide=function(){N=!N,p.each(U,function(t){t.domElement.style.zIndex=N?-999:999,t.domElement.style.opacity=N?0:1})},L.CLASS_AUTO_PLACE="a",L.CLASS_AUTO_PLACE_CONTAINER="ac",L.CLASS_MAIN="main",L.CLASS_CONTROLLER_ROW="cr",L.CLASS_TOO_TALL="taller-than-window",L.CLASS_CLOSED="closed",L.CLASS_CLOSE_BUTTON="close-button",L.CLASS_DRAG="drag",L.DEFAULT_WIDTH=245,L.TEXT_CLOSED="Close Controls",L.TEXT_OPEN="Open Controls",d.bind(window,"keydown",function(t){"text"===document.activeElement.type||t.which!==C&&t.keyCode!=C||L.toggleHide()},!1),p.extend(L.prototype,{add:function(t,e){return _(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return _(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.slice(this.__controllers.indexOf(t),1);var e=this;p.defer(function(){e.onResize()})},destroy:function(){this.autoPlace&&O.removeChild(this.domElement)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var i=new L(e);this.__folders[t]=i;var n=m(this,i.domElement);return d.addClass(n,"folder"),i},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=d.getOffset(t.__ul).top,i=0;p.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(i+=d.getHeight(e))}),window.innerHeight-e-k<i?(d.addClass(t.domElement,L.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-k+"px"):(d.removeClass(t.domElement,L.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&p.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},remember:function(){if(p.isUndefined(M)&&(M=new f,M.domElement.innerHTML=e),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;p.each(Array.prototype.slice.call(arguments),function(e){
0==t.__rememberedObjects.length&&b(t),-1==t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&w(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=T(this)),t.folders={},p.each(this.__folders,function(e,i){t.folders[i]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=T(this),R(this,!1)},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[B]=T(this,!0)),this.load.remembered[t]=T(this),this.preset=t,A(this,t,!0)},revert:function(t){p.each(this.__controllers,function(e){this.getRoot().load.remembered?g(t||this.getRoot(),e):e.setValue(e.initialValue)},this),p.each(this.__folders,function(t){t.revert(t)}),t||R(this.getRoot(),!1)},listen:function(t){var e=0==this.__listening.length;this.__listening.push(t),e&&P(this.__listening)}}),L}(i.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",i.controllers.factory=function(t,e,i,n,r,s,o){return function(a,u){var l=a[u];return o.isArray(arguments[2])||o.isObject(arguments[2])?new t(a,u,arguments[2]):o.isNumber(l)?o.isNumber(arguments[2])&&o.isNumber(arguments[3])?new i(a,u,arguments[2],arguments[3]):new e(a,u,{min:arguments[2],max:arguments[3]}):o.isString(l)?new n(a,u):o.isFunction(l)?new r(a,u,""):o.isBoolean(l)?new s(a,u):void 0}}(i.controllers.OptionController,i.controllers.NumberControllerBox,i.controllers.NumberControllerSlider,i.controllers.StringController=function(t,e,i){var n=function(t,i){function r(){o.setValue(o.__input.value)}function s(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}n.superclass.call(this,t,i);var o=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"keyup",r),e.bind(this.__input,"change",r),e.bind(this.__input,"blur",s),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return n.superclass=t,i.extend(n.prototype,t.prototype,{updateDisplay:function(){return e.isActive(this.__input)||(this.__input.value=this.getValue()),n.superclass.prototype.updateDisplay.call(this)}}),n}(i.controllers.Controller,i.dom.dom,i.utils.common),i.controllers.FunctionController,i.controllers.BooleanController,i.utils.common),i.controllers.Controller,i.controllers.BooleanController,i.controllers.FunctionController,i.controllers.NumberControllerBox,i.controllers.NumberControllerSlider,i.controllers.OptionController,i.controllers.ColorController=function(t,e,i,n,r){function s(t,e,i,n){t.style.background="",r.each(u,function(r){t.style.cssText+="background: "+r+"linear-gradient("+e+", "+i+" 0%, "+n+" 100%); "})}function o(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var a=function(t,u){function l(t){d(t),e.bind(window,"mousemove",d),e.bind(window,"mouseup",h)}function h(){e.unbind(window,"mousemove",d),e.unbind(window,"mouseup",h)}function c(){var t=n(this.value);t!==!1?(_.__color.__state=t,_.setValue(_.__color.toOriginal())):this.value=_.__color.toString()}function f(){e.unbind(window,"mousemove",p),e.unbind(window,"mouseup",f)}function d(t){t.preventDefault();var i=e.getWidth(_.__saturation_field),n=e.getOffset(_.__saturation_field),r=(t.clientX-n.left+document.body.scrollLeft)/i,s=1-(t.clientY-n.top+document.body.scrollTop)/i;return s>1?s=1:0>s&&(s=0),r>1?r=1:0>r&&(r=0),_.__color.v=s,_.__color.s=r,_.setValue(_.__color.toOriginal()),!1}function p(t){t.preventDefault();var i=e.getHeight(_.__hue_field),n=e.getOffset(_.__hue_field),r=1-(t.clientY-n.top+document.body.scrollTop)/i;return r>1?r=1:0>r&&(r=0),_.__color.h=360*r,_.setValue(_.__color.toOriginal()),!1}a.superclass.call(this,t,u),this.__color=new i(this.getValue()),this.__temp=new i(0);var _=this;this.domElement=document.createElement("div"),e.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",e.bind(this.__input,"keydown",function(t){13===t.keyCode&&c.call(this)}),e.bind(this.__input,"blur",c),e.bind(this.__selector,"mousedown",function(t){e.addClass(this,"drag").bind(window,"mouseup",function(t){e.removeClass(_.__selector,"drag")})});var m=document.createElement("div");r.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),r.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),r.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),r.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),r.extend(m.style,{width:"100%",height:"100%",background:"none"}),s(m,"top","rgba(0,0,0,0)","#000"),r.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),o(this.__hue_field),r.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),e.bind(this.__saturation_field,"mousedown",l),e.bind(this.__field_knob,"mousedown",l),e.bind(this.__hue_field,"mousedown",function(t){p(t),e.bind(window,"mousemove",p),e.bind(window,"mouseup",f)}),this.__saturation_field.appendChild(m),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};a.superclass=t,r.extend(a.prototype,t.prototype,{updateDisplay:function(){var t=n(this.getValue());if(t!==!1){var e=!1;r.each(i.COMPONENTS,function(i){return r.isUndefined(t[i])||r.isUndefined(this.__color.__state[i])||t[i]===this.__color.__state[i]?void 0:(e=!0,{})},this),e&&r.extend(this.__color.__state,t)}r.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var o=this.__color.v<.5||this.__color.s>.5?255:0,a=255-o;r.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+o+","+o+","+o+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,s(this.__saturation_field,"left","#fff",this.__temp.toString()),r.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+o+","+o+","+o+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}});var u=["-moz-","-o-","-webkit-","-ms-",""];return a}(i.controllers.Controller,i.dom.dom,i.color.Color=function(t,e,i,n){function r(t,e,i){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(o(this,e,i),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(o(this,e,i),this.__state.space="RGB"),this.__state[e]=t}})}function s(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(a(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(a(this),this.__state.space="HSV"),this.__state[e]=t}})}function o(t,i,r){if("HEX"===t.__state.space)t.__state[i]=e.component_from_hex(t.__state.hex,r);else{if("HSV"!==t.__state.space)throw"Corrupted color state";n.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function a(t){var i=e.rgb_to_hsv(t.r,t.g,t.b);n.extend(t.__state,{s:i.s,v:i.v}),n.isNaN(i.h)?n.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=i.h}var u=function(){if(this.__state=t.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return u.COMPONENTS=["r","g","b","h","s","v","hex","a"],n.extend(u.prototype,{toString:function(){return i(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),r(u.prototype,"r",2),r(u.prototype,"g",1),r(u.prototype,"b",0),s(u.prototype,"h"),s(u.prototype,"s"),s(u.prototype,"v"),Object.defineProperty(u.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(u.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),u}(i.color.interpret,i.color.math=function(){var t;return{hsv_to_rgb:function(t,e,i){var n=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),s=i*(1-e),o=i*(1-r*e),a=i*(1-(1-r)*e),u=[[i,a,s],[o,i,s],[s,i,a],[s,o,i],[a,s,i],[i,s,o]][n];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,i){var n,r,s=Math.min(t,e,i),o=Math.max(t,e,i),a=o-s;return 0==o?{h:NaN,s:0,v:0}:(r=a/o,n=t==o?(e-i)/a:e==o?2+(i-t)/a:4+(t-e)/a,n/=6,0>n&&(n+=1),{h:360*n,s:r,v:o/255})},rgb_to_hex:function(t,e,i){var n=this.hex_with_component(0,2,t);return n=this.hex_with_component(n,1,e),n=this.hex_with_component(n,0,i)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,i,n){return n<<(t=8*i)|e&~(255<<t)}}}(),i.color.toString,i.utils.common),i.color.interpret,i.utils.common),i.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}(),i.dom.CenteredDiv=function(t,e){var i=function(){this.backgroundElement=document.createElement("div"),e.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),t.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),e.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var i=this;t.bind(this.backgroundElement,"click",function(){i.hide()})};return i.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),e.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},i.prototype.hide=function(){var e=this,i=function(){e.domElement.style.display="none",e.backgroundElement.style.display="none",t.unbind(e.domElement,"webkitTransitionEnd",i),t.unbind(e.domElement,"transitionend",i),t.unbind(e.domElement,"oTransitionEnd",i)};t.bind(this.domElement,"webkitTransitionEnd",i),t.bind(this.domElement,"transitionend",i),t.bind(this.domElement,"oTransitionEnd",i),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},i.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-t.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-t.getHeight(this.domElement)/2+"px"},i}(i.dom.dom,i.utils.common),i.dom.dom,i.utils.common)},function(t,e,i){var n=i(2),r={};r.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.transpose=function(t,e){if(t===e){var i=e[1];t[1]=e[2],t[2]=i}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=i*s-r*n;return o?(o=1/o,t[0]=s*o,t[1]=-n*o,t[2]=-r*o,t[3]=i*o,t):null},r.adjoint=function(t,e){var i=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=i,t},r.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},r.multiply=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=i[0],u=i[1],l=i[2],h=i[3];return t[0]=n*a+s*u,t[1]=r*a+o*u,t[2]=n*l+s*h,t[3]=r*l+o*h,t},r.mul=r.multiply,r.rotate=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(i),u=Math.cos(i);return t[0]=n*u+s*a,t[1]=r*u+o*a,t[2]=n*-a+s*u,t[3]=r*-a+o*u,t},r.scale=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=i[0],u=i[1];return t[0]=n*a,t[1]=r*a,t[2]=s*u,t[3]=o*u,t},r.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},r.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},r.LDU=function(t,e,i,n){return t[2]=n[2]/n[0],i[0]=n[0],i[1]=n[1],i[3]=n[3]-t[2]*i[1],[t,e,i]},t.exports=r},function(t,e,i){var n=i(2),r={};r.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=i*s-n*r;return u?(u=1/u,t[0]=s*u,t[1]=-n*u,t[2]=-r*u,t[3]=i*u,t[4]=(r*a-s*o)*u,t[5]=(n*o-i*a)*u,t):null},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},r.multiply=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5],l=i[0],h=i[1],c=i[2],f=i[3],d=i[4],p=i[5];return t[0]=n*l+s*h,t[1]=r*l+o*h,t[2]=n*c+s*f,t[3]=r*c+o*f,t[4]=n*d+s*p+a,t[5]=r*d+o*p+u,t},r.mul=r.multiply,r.rotate=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5],l=Math.sin(i),h=Math.cos(i);return t[0]=n*h+s*l,t[1]=r*h+o*l,t[2]=n*-l+s*h,t[3]=r*-l+o*h,t[4]=a,t[5]=u,t},r.scale=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5],l=i[0],h=i[1];return t[0]=n*l,t[1]=r*l,t[2]=s*h,t[3]=o*h,t[4]=a,t[5]=u,t},r.translate=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5],l=i[0],h=i[1];return t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=n*l+s*h+a,t[5]=r*l+o*h+u,t},r.fromRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t[4]=0,t[5]=0,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},r.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},t.exports=r},function(t,e,i){var n=i(2),r={};r.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.transpose=function(t,e){if(t===e){var i=e[1],n=e[2],r=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=s,t[11]=e[14],t[12]=r,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},r.invert=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7],h=e[8],c=e[9],f=e[10],d=e[11],p=e[12],_=e[13],m=e[14],v=e[15],g=i*a-n*o,y=i*u-r*o,b=i*l-s*o,x=n*u-r*a,w=n*l-s*a,T=r*l-s*u,A=h*_-c*p,E=h*m-f*p,R=h*v-d*p,P=c*m-f*_,M=c*v-d*_,O=f*v-d*m,S=g*O-y*M+b*P+x*R-w*E+T*A;return S?(S=1/S,t[0]=(a*O-u*M+l*P)*S,t[1]=(r*M-n*O-s*P)*S,t[2]=(_*T-m*w+v*x)*S,t[3]=(f*w-c*T-d*x)*S,t[4]=(u*R-o*O-l*E)*S,t[5]=(i*O-r*R+s*E)*S,t[6]=(m*b-p*T-v*y)*S,t[7]=(h*T-f*b+d*y)*S,t[8]=(o*M-a*R+l*A)*S,t[9]=(n*R-i*M-s*A)*S,t[10]=(p*w-_*b+v*g)*S,t[11]=(c*b-h*w-d*g)*S,t[12]=(a*E-o*P-u*A)*S,t[13]=(i*P-n*E+r*A)*S,t[14]=(_*y-p*x-m*g)*S,t[15]=(h*x-c*y+f*g)*S,t):null},r.adjoint=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7],h=e[8],c=e[9],f=e[10],d=e[11],p=e[12],_=e[13],m=e[14],v=e[15];return t[0]=a*(f*v-d*m)-c*(u*v-l*m)+_*(u*d-l*f),t[1]=-(n*(f*v-d*m)-c*(r*v-s*m)+_*(r*d-s*f)),t[2]=n*(u*v-l*m)-a*(r*v-s*m)+_*(r*l-s*u),t[3]=-(n*(u*d-l*f)-a*(r*d-s*f)+c*(r*l-s*u)),t[4]=-(o*(f*v-d*m)-h*(u*v-l*m)+p*(u*d-l*f)),t[5]=i*(f*v-d*m)-h*(r*v-s*m)+p*(r*d-s*f),t[6]=-(i*(u*v-l*m)-o*(r*v-s*m)+p*(r*l-s*u)),t[7]=i*(u*d-l*f)-o*(r*d-s*f)+h*(r*l-s*u),t[8]=o*(c*v-d*_)-h*(a*v-l*_)+p*(a*d-l*c),t[9]=-(i*(c*v-d*_)-h*(n*v-s*_)+p*(n*d-s*c)),t[10]=i*(a*v-l*_)-o*(n*v-s*_)+p*(n*l-s*a),t[11]=-(i*(a*d-l*c)-o*(n*d-s*c)+h*(n*l-s*a)),t[12]=-(o*(c*m-f*_)-h*(a*m-u*_)+p*(a*f-u*c)),t[13]=i*(c*m-f*_)-h*(n*m-r*_)+p*(n*f-r*c),t[14]=-(i*(a*m-u*_)-o*(n*m-r*_)+p*(n*u-r*a)),t[15]=i*(a*f-u*c)-o*(n*f-r*c)+h*(n*u-r*a),t},r.determinant=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],u=t[7],l=t[8],h=t[9],c=t[10],f=t[11],d=t[12],p=t[13],_=t[14],m=t[15],v=e*o-i*s,g=e*a-n*s,y=e*u-r*s,b=i*a-n*o,x=i*u-r*o,w=n*u-r*a,T=l*p-h*d,A=l*_-c*d,E=l*m-f*d,R=h*_-c*p,P=h*m-f*p,M=c*m-f*_;return v*M-g*P+y*R+b*E-x*A+w*T},r.multiply=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=e[9],d=e[10],p=e[11],_=e[12],m=e[13],v=e[14],g=e[15],y=i[0],b=i[1],x=i[2],w=i[3];return t[0]=y*n+b*a+x*c+w*_,t[1]=y*r+b*u+x*f+w*m,t[2]=y*s+b*l+x*d+w*v,t[3]=y*o+b*h+x*p+w*g,y=i[4],b=i[5],x=i[6],w=i[7],t[4]=y*n+b*a+x*c+w*_,t[5]=y*r+b*u+x*f+w*m,t[6]=y*s+b*l+x*d+w*v,t[7]=y*o+b*h+x*p+w*g,y=i[8],b=i[9],x=i[10],w=i[11],t[8]=y*n+b*a+x*c+w*_,t[9]=y*r+b*u+x*f+w*m,t[10]=y*s+b*l+x*d+w*v,t[11]=y*o+b*h+x*p+w*g,y=i[12],b=i[13],x=i[14],w=i[15],t[12]=y*n+b*a+x*c+w*_,t[13]=y*r+b*u+x*f+w*m,t[14]=y*s+b*l+x*d+w*v,t[15]=y*o+b*h+x*p+w*g,t},r.mul=r.multiply,r.translate=function(t,e,i){var n,r,s,o,a,u,l,h,c,f,d,p,_=i[0],m=i[1],v=i[2];return e===t?(t[12]=e[0]*_+e[4]*m+e[8]*v+e[12],t[13]=e[1]*_+e[5]*m+e[9]*v+e[13],t[14]=e[2]*_+e[6]*m+e[10]*v+e[14],t[15]=e[3]*_+e[7]*m+e[11]*v+e[15]):(n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5],l=e[6],h=e[7],c=e[8],f=e[9],d=e[10],p=e[11],t[0]=n,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=u,t[6]=l,t[7]=h,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=n*_+a*m+c*v+e[12],t[13]=r*_+u*m+f*v+e[13],t[14]=s*_+l*m+d*v+e[14],t[15]=o*_+h*m+p*v+e[15]),t},r.scale=function(t,e,i){var n=i[0],r=i[1],s=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.rotate=function(t,e,i,r){var s,o,a,u,l,h,c,f,d,p,_,m,v,g,y,b,x,w,T,A,E,R,P,M,O=r[0],S=r[1],C=r[2],k=Math.sqrt(O*O+S*S+C*C);return Math.abs(k)<n.EPSILON?null:(k=1/k,O*=k,S*=k,C*=k,s=Math.sin(i),o=Math.cos(i),a=1-o,u=e[0],l=e[1],h=e[2],c=e[3],f=e[4],d=e[5],p=e[6],_=e[7],m=e[8],v=e[9],g=e[10],y=e[11],b=O*O*a+o,x=S*O*a+C*s,w=C*O*a-S*s,T=O*S*a-C*s,A=S*S*a+o,E=C*S*a+O*s,R=O*C*a+S*s,P=S*C*a-O*s,M=C*C*a+o,t[0]=u*b+f*x+m*w,t[1]=l*b+d*x+v*w,t[2]=h*b+p*x+g*w,t[3]=c*b+_*x+y*w,t[4]=u*T+f*A+m*E,t[5]=l*T+d*A+v*E,t[6]=h*T+p*A+g*E,t[7]=c*T+_*A+y*E,t[8]=u*R+f*P+m*M,t[9]=l*R+d*P+v*M,t[10]=h*R+p*P+g*M,t[11]=c*R+_*P+y*M,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},r.rotateX=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),s=e[4],o=e[5],a=e[6],u=e[7],l=e[8],h=e[9],c=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*r+l*n,t[5]=o*r+h*n,t[6]=a*r+c*n,t[7]=u*r+f*n,t[8]=l*r-s*n,t[9]=h*r-o*n,t[10]=c*r-a*n,t[11]=f*r-u*n,t},r.rotateY=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),s=e[0],o=e[1],a=e[2],u=e[3],l=e[8],h=e[9],c=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r-l*n,t[1]=o*r-h*n,t[2]=a*r-c*n,t[3]=u*r-f*n,t[8]=s*n+l*r,t[9]=o*n+h*r,t[10]=a*n+c*r,t[11]=u*n+f*r,t},r.rotateZ=function(t,e,i){var n=Math.sin(i),r=Math.cos(i),s=e[0],o=e[1],a=e[2],u=e[3],l=e[4],h=e[5],c=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*r+l*n,t[1]=o*r+h*n,t[2]=a*r+c*n,t[3]=u*r+f*n,t[4]=l*r-s*n,t[5]=h*r-o*n,t[6]=c*r-a*n,t[7]=f*r-u*n,t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,e,i){var r,s,o,a=i[0],u=i[1],l=i[2],h=Math.sqrt(a*a+u*u+l*l);return Math.abs(h)<n.EPSILON?null:(h=1/h,a*=h,u*=h,l*=h,r=Math.sin(e),s=Math.cos(e),o=1-s,t[0]=a*a*o+s,t[1]=u*a*o+l*r,t[2]=l*a*o-u*r,t[3]=0,t[4]=a*u*o-l*r,t[5]=u*u*o+s,t[6]=l*u*o+a*r,t[7]=0,t[8]=a*l*o+u*r,t[9]=u*l*o-a*r,t[10]=l*l*o+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=n+n,u=r+r,l=s+s,h=n*a,c=n*u,f=n*l,d=r*u,p=r*l,_=s*l,m=o*a,v=o*u,g=o*l;return t[0]=1-(d+_),t[1]=c+g,t[2]=f-v,t[3]=0,t[4]=c-g,t[5]=1-(h+_),t[6]=p+m,t[7]=0,t[8]=f+v,t[9]=p-m,t[10]=1-(h+d),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},r.fromRotationTranslationScale=function(t,e,i,n){var r=e[0],s=e[1],o=e[2],a=e[3],u=r+r,l=s+s,h=o+o,c=r*u,f=r*l,d=r*h,p=s*l,_=s*h,m=o*h,v=a*u,g=a*l,y=a*h,b=n[0],x=n[1],w=n[2];return t[0]=(1-(p+m))*b,t[1]=(f+y)*b,t[2]=(d-g)*b,t[3]=0,t[4]=(f-y)*x,t[5]=(1-(c+m))*x,t[6]=(_+v)*x,t[7]=0,t[8]=(d+g)*w,t[9]=(_-v)*w,t[10]=(1-(c+p))*w,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,e,i,n,r){var s=e[0],o=e[1],a=e[2],u=e[3],l=s+s,h=o+o,c=a+a,f=s*l,d=s*h,p=s*c,_=o*h,m=o*c,v=a*c,g=u*l,y=u*h,b=u*c,x=n[0],w=n[1],T=n[2],A=r[0],E=r[1],R=r[2];return t[0]=(1-(_+v))*x,t[1]=(d+b)*x,t[2]=(p-y)*x,t[3]=0,t[4]=(d-b)*w,t[5]=(1-(f+v))*w,t[6]=(m+g)*w,t[7]=0,t[8]=(p+y)*T,t[9]=(m-g)*T,t[10]=(1-(f+_))*T,t[11]=0,t[12]=i[0]+A-(t[0]*A+t[4]*E+t[8]*R),t[13]=i[1]+E-(t[1]*A+t[5]*E+t[9]*R),t[14]=i[2]+R-(t[2]*A+t[6]*E+t[10]*R),t[15]=1,t},r.fromQuat=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=i+i,a=n+n,u=r+r,l=i*o,h=n*o,c=n*a,f=r*o,d=r*a,p=r*u,_=s*o,m=s*a,v=s*u;return t[0]=1-c-p,t[1]=h+v,t[2]=f-m,t[3]=0,t[4]=h-v,t[5]=1-l-p,t[6]=d+_,t[7]=0,t[8]=f+m,t[9]=d-_,t[10]=1-l-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,e,i,n,r,s,o){var a=1/(i-e),u=1/(r-n),l=1/(s-o);return t[0]=2*s*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*u,t[6]=0,t[7]=0,t[8]=(i+e)*a,t[9]=(r+n)*u,t[10]=(o+s)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*l,t[15]=0,t},r.perspective=function(t,e,i,n,r){var s=1/Math.tan(e/2),o=1/(n-r);return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*o,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,e,i,n){var r=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+a),l=2/(r+s);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((o-a)*u*.5),t[9]=(r-s)*l*.5,t[10]=n/(i-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*i/(i-n),t[15]=0,t},r.ortho=function(t,e,i,n,r,s,o){var a=1/(e-i),u=1/(n-r),l=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,
t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+i)*a,t[13]=(r+n)*u,t[14]=(o+s)*l,t[15]=1,t},r.lookAt=function(t,e,i,s){var o,a,u,l,h,c,f,d,p,_,m=e[0],v=e[1],g=e[2],y=s[0],b=s[1],x=s[2],w=i[0],T=i[1],A=i[2];return Math.abs(m-w)<n.EPSILON&&Math.abs(v-T)<n.EPSILON&&Math.abs(g-A)<n.EPSILON?r.identity(t):(f=m-w,d=v-T,p=g-A,_=1/Math.sqrt(f*f+d*d+p*p),f*=_,d*=_,p*=_,o=b*p-x*d,a=x*f-y*p,u=y*d-b*f,_=Math.sqrt(o*o+a*a+u*u),_?(_=1/_,o*=_,a*=_,u*=_):(o=0,a=0,u=0),l=d*u-p*a,h=p*o-f*u,c=f*a-d*o,_=Math.sqrt(l*l+h*h+c*c),_?(_=1/_,l*=_,h*=_,c*=_):(l=0,h=0,c=0),t[0]=o,t[1]=l,t[2]=f,t[3]=0,t[4]=a,t[5]=h,t[6]=d,t[7]=0,t[8]=u,t[9]=c,t[10]=p,t[11]=0,t[12]=-(o*m+a*v+u*g),t[13]=-(l*m+h*v+c*g),t[14]=-(f*m+d*v+p*g),t[15]=1,t)},r.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},t.exports=r},function(t,e,i){var n=i(2),r=i(16),s=i(17),o=i(18),a={};a.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},a.rotationTo=function(){var t=s.create(),e=s.fromValues(1,0,0),i=s.fromValues(0,1,0);return function(n,r,o){var u=s.dot(r,o);return-.999999>u?(s.cross(t,e,r),s.length(t)<1e-6&&s.cross(t,i,r),s.normalize(t,t),a.setAxisAngle(n,t,Math.PI),n):u>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(s.cross(t,r,o),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+u,a.normalize(n,n))}}(),a.setAxes=function(){var t=r.create();return function(e,i,n,r){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-i[0],t[5]=-i[1],t[8]=-i[2],a.normalize(e,a.fromMat3(e,t))}}(),a.clone=o.clone,a.fromValues=o.fromValues,a.copy=o.copy,a.set=o.set,a.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},a.setAxisAngle=function(t,e,i){i=.5*i;var n=Math.sin(i);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(i),t},a.add=o.add,a.multiply=function(t,e,i){var n=e[0],r=e[1],s=e[2],o=e[3],a=i[0],u=i[1],l=i[2],h=i[3];return t[0]=n*h+o*a+r*l-s*u,t[1]=r*h+o*u+s*a-n*l,t[2]=s*h+o*l+n*u-r*a,t[3]=o*h-n*a-r*u-s*l,t},a.mul=a.multiply,a.scale=o.scale,a.rotateX=function(t,e,i){i*=.5;var n=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(i),u=Math.cos(i);return t[0]=n*u+o*a,t[1]=r*u+s*a,t[2]=s*u-r*a,t[3]=o*u-n*a,t},a.rotateY=function(t,e,i){i*=.5;var n=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(i),u=Math.cos(i);return t[0]=n*u-s*a,t[1]=r*u+o*a,t[2]=s*u+n*a,t[3]=o*u-r*a,t},a.rotateZ=function(t,e,i){i*=.5;var n=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(i),u=Math.cos(i);return t[0]=n*u+r*a,t[1]=r*u-n*a,t[2]=s*u+o*a,t[3]=o*u-s*a,t},a.calculateW=function(t,e){var i=e[0],n=e[1],r=e[2];return t[0]=i,t[1]=n,t[2]=r,t[3]=Math.sqrt(Math.abs(1-i*i-n*n-r*r)),t},a.dot=o.dot,a.lerp=o.lerp,a.slerp=function(t,e,i,n){var r,s,o,a,u,l=e[0],h=e[1],c=e[2],f=e[3],d=i[0],p=i[1],_=i[2],m=i[3];return s=l*d+h*p+c*_+f*m,0>s&&(s=-s,d=-d,p=-p,_=-_,m=-m),1-s>1e-6?(r=Math.acos(s),o=Math.sin(r),a=Math.sin((1-n)*r)/o,u=Math.sin(n*r)/o):(a=1-n,u=n),t[0]=a*l+u*d,t[1]=a*h+u*p,t[2]=a*c+u*_,t[3]=a*f+u*m,t},a.sqlerp=function(){var t=a.create(),e=a.create();return function(i,n,r,s,o,u){return a.slerp(t,n,o,u),a.slerp(e,r,s,u),a.slerp(i,t,e,2*u*(1-u)),i}}(),a.invert=function(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=i*i+n*n+r*r+s*s,a=o?1/o:0;return t[0]=-i*a,t[1]=-n*a,t[2]=-r*a,t[3]=s*a,t},a.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},a.length=o.length,a.len=a.length,a.squaredLength=o.squaredLength,a.sqrLen=a.squaredLength,a.normalize=o.normalize,a.fromMat3=function(t,e){var i,n=e[0]+e[4]+e[8];if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var s=(r+1)%3,o=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*s+s]-e[3*o+o]+1),t[r]=.5*i,i=.5/i,t[3]=(e[3*s+o]-e[3*o+s])*i,t[s]=(e[3*s+r]+e[3*r+s])*i,t[o]=(e[3*o+r]+e[3*r+o])*i}return t},a.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},t.exports=a},function(t,e,i){var n=i(2),r={};r.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var i=new n.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,i){return t[0]=e,t[1]=i,t},r.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},r.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},r.sub=r.subtract,r.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},r.mul=r.multiply,r.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},r.div=r.divide,r.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},r.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t},r.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},r.scaleAndAdd=function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},r.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)},r.dist=r.distance,r.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)},r.len=r.length,r.squaredLength=function(t){var e=t[0],i=t[1];return e*e+i*i},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},r.normalize=function(t,e){var i=e[0],n=e[1],r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.cross=function(t,e,i){var n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t},r.lerp=function(t,e,i,n){var r=e[0],s=e[1];return t[0]=r+n*(i[0]-r),t[1]=s+n*(i[1]-s),t},r.random=function(t,e){e=e||1;var i=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t},r.transformMat2=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r,t[1]=i[1]*n+i[3]*r,t},r.transformMat2d=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t},r.transformMat3=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[3]*r+i[6],t[1]=i[1]*n+i[4]*r+i[7],t},r.transformMat4=function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t},r.forEach=function(){var t=r.create();return function(e,i,n,r,s,o){var a,u;for(i||(i=2),n||(n=0),u=r?Math.min(r*i+n,e.length):e.length,a=n;u>a;a+=i)t[0]=e[a],t[1]=e[a+1],s(t,t,o),e[a]=t[0],e[a+1]=t[1];return e}}(),r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},t.exports=r},function(t,e){t.exports=function(){return["precision highp float;","uniform samplerCube tCube;","varying vec3 vDir;","void main( void ){","  vec3 dir = vDir;","  dir.y = -dir.y;","  vec4 color = textureCube( tCube, dir );","  gl_FragColor = color;","}",""].join("\n")}},function(t,e){t.exports=function(){return["precision highp float;","uniform mat4 uMVP;","attribute vec3 aVertexPosition;","varying vec3 vDir;","void main(void) {","  vec3 position = aVertexPosition;","  gl_Position = uMVP * vec4(position, 1.0);","  vDir = aVertexPosition;","}"].join("\n")}},function(t,e){t.exports=function(){return["precision highp float;","uniform float uTime;","uniform float uReveal;","varying vec2 vUv;","float circle(vec2 uv, float iSeed, float speed){","  float range = (0.03+iSeed*0.001);","  speed = speed/250.0;","  return step(distance(uv, vec2(0.5 + sin(uTime*speed+iSeed*0.5)* range, 0.5 + cos(uTime*speed*(iSeed*0.01)+iSeed/2.0)*range)), 0.1)*0.1;","}","void main(void) {","  vec2 uv    = vUv;","  float white = step(distance(uv, vec2(0.5, 0.5)), 0.1);","  white += circle(uv, 4.0, 2.0);","  white += circle(uv, 2.0, 5.0);","  white += circle(uv, 4.5, 10.0);","  white += circle(uv, 2.0, 2.0);","  white += circle(uv, 3.0, 4.0);","  // white += circle(uv, 1.0, 2.5);","  // white += circle(uv, 1.3447, 1.0);","  // white += circle(uv, 2.3, 3.0);","  // white += circle(uv, 9.2110, 2.0341);","  // white += circle(uv, 8.5991, 5.4094);","  // white += circle(uv, 4.4082, 3.7331);","  // white += circle(uv, 7.837, 4.0430);","  // white += circle(uv, 5.3065, 7.5013);","  // white += circle(uv, 6.4361, 8.4739);","  // white += circle(uv, 9.6764, 7.4849);","  // white += circle(uv, 7.9577, 7.3705);","  // white += circle(uv, 6.0867, 8.238);","  // white += circle(uv, 9.9517, 3.2051);","  // white += circle(uv, 7.8888, 1.1956);","  // white += circle(uv, 3.8026, 5.6140);","  // white += circle(uv, 3.0208, 4.0112);","  // white += circle(uv, 6.1247, 4.1470);","  white *= uReveal;","  vec3 color  = vec3(white, white/2.0, white);","  gl_FragColor = vec4(color, color.r);","}"].join("\n")}},function(t,e){t.exports=function(){return["precision highp float;","uniform mat4 uMVP;","attribute vec3 aVertexPosition;","attribute vec2 aUv;","varying vec2 vUv;","void main(void) {","  vec3 position = aVertexPosition;","  gl_Position = uMVP * vec4(position, 1.0);","  vUv = aUv;","}"].join("\n")}},function(t,e){t.exports=function(){return["precision highp float;","varying vec2 vUv;","uniform sampler2D uSampler;","uniform float exposure;","uniform float decay;","uniform float density;","uniform float weight;","const vec2 lightPositionOnScreen = vec2(0.5, 0.5);","const int NUM_SAMPLES = 30;","void main(void){","  gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);","  vec2 deltaTextCoord = vec2( vUv - lightPositionOnScreen.xy );","  vec2 textCoo = vUv;","  deltaTextCoord *= 1.0 / float(NUM_SAMPLES) * density;","  float illuminationDecay = 1.0;","  for(int i=0; i < NUM_SAMPLES ; i++)","  {","     textCoo -= deltaTextCoord;","     vec4 sample = texture2D(uSampler, textCoo );","     sample *= illuminationDecay * weight;","     gl_FragColor += sample;","     illuminationDecay *= decay;","   }","   gl_FragColor *= exposure;","}"].join("\n")}},function(t,e){t.exports=function(){return["precision highp float;","attribute vec3 aVertexPosition;","attribute vec2 aUv;","varying vec2 vUv;","void main(void) {","  gl_Position = vec4(aVertexPosition, 1.0);","  vUv = aUv;","}"].join("\n")}},function(t,e){t.exports=function(){return["#extension GL_OES_standard_derivatives : enable","precision highp float;","uniform float uTime;","uniform sampler2D tDiffuse;","uniform sampler2D tNormalMap;","uniform sampler2D tAmbiantOcclusion;","uniform float uLight;","uniform float uLightRender;","uniform float uLighten;","varying vec2 vUv;","varying vec3 vNormal;","varying vec3 vViewPosition;","// Uniforms","uniform vec4 ambientColor;","uniform vec4 diffuseColor;","varying vec4 vPos;","void main(void)","{ ","  vec2 uv = vUv;","  vec3 lightDir = normalize( vec3(0.0) - vPos.xyz );","  vec3 normalAdjusted = normalize(vNormal) + (texture2D(tNormalMap, uv.st).rgb * 1.0 - 0.5);","  vec3 AO = texture2D(tAmbiantOcclusion, uv).rgb;","  float diffuseIntensity = max(0.0, dot(normalize(normalAdjusted), normalize(lightDir))) * AO.r * 1.5 * uLighten;","  vec3 colour = ((diffuseIntensity * diffuseColor.rgb) + ambientColor.rgb) * texture2D(tDiffuse, uv.st).rgb;","  gl_FragColor = vec4(colour, 1.0);","  gl_FragColor = mix(gl_FragColor, vec4(vec3(uLight), 1.0), uLightRender);","  // gl_FragColor = vec4(colour, 1.0);","}"].join("\n")}},function(t,e){t.exports=function(){return["precision highp float;","uniform mat4 uM;","uniform mat4 uMVP;","uniform vec3 uCameraPosition;","attribute vec3 aVertexPosition;","attribute vec2 aUv;","attribute vec3 aNormal;","varying vec2 vUv;","varying vec3 vNormal;","varying vec3 vViewPosition;","varying vec4 vPos;","void main(void) {","  vec3 position = aVertexPosition;","  gl_Position = uMVP * vec4(position, 1.0);","  vUv = aUv;","  vNormal = normalize(mat3(uM) * aNormal);","  vPos = uM * vec4(position, 1.0);","  vViewPosition = uCameraPosition;","}"].join("\n")}},function(t,e){t.exports=function(){return["precision highp float;","uniform sampler2D uSampler;","uniform vec2 uMouse;","uniform float uTime;","uniform float uRadius;","varying vec2 vUv;","//","// Description : Array and textureless GLSL 2D simplex noise function.","//      Author : Ian McEwan, Ashima Arts.","//  Maintainer : stegu","//     Lastmod : 20110822 (ijm)","//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.","//               Distributed under the MIT License. See LICENSE file.","//               https://github.com/ashima/webgl-noise","//               https://github.com/stegu/webgl-noise","// ","vec3 mod289(vec3 x) {","  return x - floor(x * (1.0 / 289.0)) * 289.0;","}","vec2 mod289(vec2 x) {","  return x - floor(x * (1.0 / 289.0)) * 289.0;","}","vec3 permute(vec3 x) {","  return mod289(((x*34.0)+1.0)*x);","}","float snoise(vec2 v)","  {","  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0","                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)","                     -0.577350269189626,  // -1.0 + 2.0 * C.x","                      0.024390243902439); // 1.0 / 41.0","// First corner","  vec2 i  = floor(v + dot(v, C.yy) );","  vec2 x0 = v -   i + dot(i, C.xx);","// Other corners","  vec2 i1;","  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0","  //i1.y = 1.0 - i1.x;","  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);","  // x0 = x0 - 0.0 + 0.0 * C.xx ;","  // x1 = x0 - i1 + 1.0 * C.xx ;","  // x2 = x0 - 1.0 + 2.0 * C.xx ;","  vec4 x12 = x0.xyxy + C.xxzz;","  x12.xy -= i1;","// Permutations","  i = mod289(i); // Avoid truncation effects in permutation","  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))","    + i.x + vec3(0.0, i1.x, 1.0 ));","  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);","  m = m*m ;","  m = m*m ;","// Gradients: 41 points uniformly over a line, mapped onto a diamond.","// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)","  vec3 x = 2.0 * fract(p * C.www) - 1.0;","  vec3 h = abs(x) - 0.5;","  vec3 ox = floor(x + 0.5);","  vec3 a0 = x - ox;","// Normalise gradients implicitly by scaling m","// Approximation of: m *= inversesqrt( a0*a0 + h*h );","  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );","// Compute final noise value at P","  vec3 g;","  g.x  = a0.x  * x0.x  + h.x  * x0.y;","  g.yz = a0.yz * x12.xz + h.yz * x12.yw;","  return 130.0 * dot(m, g);","}","float map(float value, float inMin, float inMax, float outMin, float outMax) {","  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);","}","void main( void ){","  vec2 mscreen = (uMouse + 1.0) * 0.5;","  mscreen = vec2(0.5, 0.5);","  mscreen.y = 1.0 - mscreen.y;","  vec2 uv = vUv;","  float time = uTime;","  float dist = clamp(map(length(mscreen - uv), 0.0, uRadius, 0.0, 1.3), 0.0, 1.0);","  vec2 perturb = vec2(uv) * 0.2;","  vec2 uvWarp = uv;","  uvWarp.x += cos(0.1 * uTime*0.01) * 0.2;","  uvWarp.y += sin(0.1 * uTime*0.01) * 0.2;","  vec2 factor = (mscreen - (uvWarp + perturb)) * 5.0 * (1.0 - dist);","  uv += factor;","  float apparition = (1.0 - dist) * max(map((uRadius), 0.0, 0.2, 1.0, 0.0), 0.0);","  vec4 color = texture2D( uSampler, uv ) * dist + apparition;","  color.a = max(dist, 0.0) * map((1.0 - uRadius), 0.0, 1.0, 0.0, 2.0) * (1.0 - apparition);","  gl_FragColor = color;","}",""].join("\n")}},function(t,e){t.exports=function(){return["precision highp float;","attribute vec3 aVertexPosition;","attribute vec2 aUv;","uniform mat4 uMVP;","varying vec2 vUv;","uniform float uViewPort;","void main(void) {","  vec3 position =  aVertexPosition;//(uMVP * vec4(aVertexPosition, 1.0)).xyz;","  gl_Position = vec4(position, 1.0);","  vUv = aUv;","}"].join("\n")}},function(t,e,i){var n,r;(function(s){/*!
	 * VERSION: 1.18.5
	 * DATE: 2016-05-24
	 * UPDATES AND DOCS AT: http://greensock.com
	 * 
	 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
	 *
	 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
	 * This work is subject to the terms at http://greensock.com/standard-license or for
	 * Club GreenSock members, the software agreement that was issued with your membership.
	 * 
	 * @author: Jack Doyle, jack@greensock.com
	 **/
var o="undefined"!=typeof t&&t.exports&&"undefined"!=typeof s?s:this||window;(o._gsQueue||(o._gsQueue=[])).push(function(){"use strict";o._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},s=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=s.prototype.render},o=1e-10,a=i._internals,u=a.isSelector,l=a.isArray,h=s.prototype=i.to({},.1,{}),c=[];s.version="1.18.5",h.constructor=s,h.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=i.killTweensOf,s.getTweensOf=i.getTweensOf,s.lagSmoothing=i.lagSmoothing,s.ticker=i.ticker,s.render=i.render,h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},h.updateTo=function(t,e){var n,r=this.ratio,s=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||s)if(e)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||s)for(var a,u=1/(1-r),l=this._firstPT;l;)a=l.s+l.c,l.c*=u,l.s=a-l.c,l=l._next;return this},h.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,s,u,l,h,c,f,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,_=this._totalTime,m=this._cycle,v=this._duration,g=this._rawPrevTime;if(t>=d-1e-7?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0>g||0>=t&&t>=-1e-7||g===o&&"isPause"!==this.data)&&g!==t&&(i=!0,g>o&&(r="onReverseComplete")),this._rawPrevTime=f=!e||t||g===t?t:o)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==_||0===v&&g>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||i)&&(g>=0&&(i=!0),this._rawPrevTime=f=!e||t||g===t?t:o)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(u=v+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&t>=_&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType?(l=this._time/v,h=this._easeType,c=this._easePower,(1===h||3===h&&l>=.5)&&(l=1-l),3===h&&(l*=2),1===c?l*=l:2===c?l*=l*l:3===c?l*=l*l*l:4===c&&(l*=l*l*l*l),1===h?this.ratio=1-l:2===h?this.ratio=l:this._time/v<.5?this.ratio=l/2:this.ratio=1-l/2):this.ratio=this._ease.getRatio(this._time/v)),p===this._time&&!i&&m===this._cycle)return void(_!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=_,this._rawPrevTime=g,this._cycle=m,a.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/v):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===_&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==v||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==_||r)&&this._callback("onUpdate")),this._cycle!==m&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(this._gc&&!i||(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===v&&this._rawPrevTime===o&&f!==o&&(this._rawPrevTime=0)))},s.to=function(t,e,i){return new s(t,e,i)},s.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new s(t,e,i)},s.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new s(t,e,n)},s.staggerTo=s.allTo=function(t,e,o,a,h,f,d){a=a||0;var p,_,m,v,g=0,y=[],b=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),h.apply(d||o.callbackScope||this,f||c)},x=o.cycle,w=o.startAt&&o.startAt.cycle;for(l(t)||("string"==typeof t&&(t=i.selector(t)||t),u(t)&&(t=n(t))),t=t||[],0>a&&(t=n(t),t.reverse(),a*=-1),p=t.length-1,m=0;p>=m;m++){_={};for(v in o)_[v]=o[v];if(x&&(r(_,t,m),null!=_.duration&&(e=_.duration,delete _.duration)),w){w=_.startAt={};for(v in o.startAt)w[v]=o.startAt[v];r(_.startAt,t,m)}_.delay=g+(_.delay||0),m===p&&h&&(_.onComplete=b),y[m]=new s(t[m],e,_),g+=a}return y},s.staggerFrom=s.allFrom=function(t,e,i,n,r,o,a){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,s.staggerTo(t,e,i,n,r,o,a)},s.staggerFromTo=s.allFromTo=function(t,e,i,n,r,o,a,u){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,s.staggerTo(t,e,n,r,o,a,u)},s.delayedCall=function(t,e,i,n,r){return new s(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},s.set=function(t,e){return new s(t,0,e)},s.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var f=function(t,e){for(var n=[],r=0,s=t._first;s;)s instanceof i?n[r++]=s:(e&&(n[r++]=s),n=n.concat(f(s,e)),r=n.length),s=s._next;return n},d=s.getAllTweens=function(e){return f(t._rootTimeline,e).concat(f(t._rootFramesTimeline,e))};s.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var s,o,a,u=d(0!=r),l=u.length,h=i&&n&&r;for(a=0;l>a;a++)o=u[a],(h||o instanceof e||(s=o.target===o.vars.onComplete)&&n||i&&!s)&&(t?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},s.killChildTweensOf=function(t,e){if(null!=t){var r,o,h,c,f,d=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),u(t)&&(t=n(t)),l(t))for(c=t.length;--c>-1;)s.killChildTweensOf(t[c],e);else{r=[];for(h in d)for(o=d[h].target.parentNode;o;)o===t&&(r=r.concat(d[h].tweens)),o=o.parentNode;for(f=r.length,c=0;f>c;c++)e&&r[c].totalTime(r[c].totalDuration()),r[c]._enabled(!1,!1)}}};var p=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var s,o,a=d(r),u=i&&n&&r,l=a.length;--l>-1;)o=a[l],(u||o instanceof e||(s=o.target===o.vars.onComplete)&&n||i&&!s)&&o.paused(t)};return s.pauseAll=function(t,e,i){p(!0,t,e,i)},s.resumeAll=function(t,e,i){p(!1,t,e,i)},s.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||o,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},h.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},s},!0),o._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,s=i._internals,a=n._internals={},u=s.isSelector,l=s.isArray,h=s.lazyTweens,c=s.lazyRender,f=o._gsDefine.globals,d=function(t){var e,i={};for(e in t)i[e]=t[e];return i},p=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},_=a.pauseCallback=function(){},m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=n.prototype=new e;return n.version="1.18.5",v.constructor=n,v.kill()._gc=v._forcingPlayhead=v._hasPause=!1,v.to=function(t,e,n,r){var s=n.repeat&&f.TweenMax||i;return e?this.add(new s(t,e,n),r):this.set(t,n,r)},v.from=function(t,e,n,r){return this.add((n.repeat&&f.TweenMax||i).from(t,e,n),r)},v.fromTo=function(t,e,n,r,s){var o=r.repeat&&f.TweenMax||i;return e?this.add(o.fromTo(t,e,n,r),s):this.set(t,r,s)},v.staggerTo=function(t,e,r,s,o,a,l,h){var c,f,_=new n({onComplete:a,onCompleteParams:l,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),v=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],u(t)&&(t=m(t)),s=s||0,0>s&&(t=m(t),t.reverse(),s*=-1),f=0;f<t.length;f++)c=d(r),c.startAt&&(c.startAt=d(c.startAt),c.startAt.cycle&&p(c.startAt,t,f)),v&&(p(c,t,f),null!=c.duration&&(e=c.duration,delete c.duration)),_.to(t[f],e,c,f*s);return this.add(_,o)},v.staggerFrom=function(t,e,i,n,r,s,o,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,s,o,a)},v.staggerFromTo=function(t,e,i,n,r,s,o,a,u){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,s,o,a,u)},v.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},v.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,s,o=new n(t),a=o._timeline;for(null==e&&(e=!0),a._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=a._time,r=a._first;r;)s=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||o.add(r,r._startTime-r._delay),r=s;return a.add(o,0),o},v.add=function(r,s,o,a){var u,h,c,f,d,p;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&l(r)){for(o=o||"normal",a=a||0,u=s,h=r.length,c=0;h>c;c++)l(f=r[c])&&(f=new n({tweens:f})),this.add(f,u),"string"!=typeof f&&"function"!=typeof f&&("sequence"===o?u=f._startTime+f.totalDuration()/f._timeScale:"start"===o&&(f._startTime-=f.delay())),u+=a;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,s);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,p=d.rawTime()>r._startTime;d._timeline;)p&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},v.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},v._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},v.insert=v.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},v.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},v.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},v.addPause=function(t,e,n,r){var s=i.delayedCall(0,_,n,r||this);return s.vars.onComplete=s.vars.onReverseComplete=e,s.data="isPause",this._hasPause=!0,this.add(s,t)},v.removeLabel=function(t){return delete this._labels[t],this},v.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},v._parseTimeOrLabel=function(e,i,n,r){var s;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(s=r.length;--s>-1;)r[s]instanceof t&&r[s].timeline===this&&this.remove(r[s]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(s=e.indexOf("="),-1===s)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):this.duration()}return Number(e)+i},v.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(t,e){return this.play(t,e)},v.gotoAndStop=function(t,e){return this.pause(t,e)},v.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,o,a,u,l,f,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,_=this._startTime,m=this._timeScale,v=this._paused;if(t>=d-1e-7)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(s=!0,a="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>r&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=d+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",s=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=s=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;t=0,this._initted||(u=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||i||u||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),f=this._time,f>=p)for(n=this._first;n&&(o=n._next,f===this._time&&(!this._paused||v));)(n._active||n._startTime<=f&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,f===this._time&&(!this._paused||v));){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=o}this._onUpdate&&(e||(h.length&&c(),this._callback("onUpdate"))),a&&(this._gc||_!==this._startTime&&m===this._timeScale||(0===this._time||d>=this.totalDuration())&&(s&&(h.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},v._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},v.getChildren=function(t,e,n,r){r=r||-9999999999;for(var s=[],o=this._first,a=0;o;)o._startTime<r||(o instanceof i?e!==!1&&(s[a++]=o):(n!==!1&&(s[a++]=o),t!==!1&&(s=s.concat(o.getChildren(!0,e,n)),a=s.length))),o=o._next;return s},v.getTweensOf=function(t,e){var n,r,s=this._gc,o=[],a=0;for(s&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(o[a++]=n[r]);return s&&this._enabled(!1,!0),o},v.recent=function(){return this._recent},v._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},v.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},v._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},v.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},v._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},v.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},v.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,s=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):s=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},v.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},v.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),o._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,s=e._internals,o=s.lazyTweens,a=s.lazyRender,u=new i(null,null,1,0),l=n.prototype=new t;return l.constructor=n,l.kill()._gc=!1,n.version="1.18.5",l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},l.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},l.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},l.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},l.tweenTo=function(t,i){i=i||{};var n,r,s,o={ease:u,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)o[r]=i[r];return o.time=this._parseTimeOrLabel(t),n=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,s=new e(this,n,o),o.onStart=function(){s.target.paused(!0),s.vars.time!==s.target.time()&&n===s.duration()&&s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale),i.onStart&&s._callback("onStart")},s},l.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},l.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,u,l,h,c,f,d,p=this._dirty?this.totalDuration():this._totalDuration,_=this._duration,m=this._time,v=this._totalTime,g=this._startTime,y=this._timeScale,b=this._rawPrevTime,x=this._paused,w=this._cycle;if(t>=p-1e-7)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,l="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||0>b||b===r)&&b!==t&&this._first&&(h=!0,b>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=_,t=_+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===_&&b!==r&&(b>0||0>t&&b>=0)&&!this._locked)&&(l="onReverseComplete",s=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=s=!0,l="onReverseComplete"):b>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=_||!e||t||this._rawPrevTime===t?t:r,0===t&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;t=0,this._initted||(h=!0)}else if(0===_&&0>b&&(h=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=_+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&t>=v&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!==(1&this._cycle)&&(this._time=_-this._time),this._time>_?(this._time=_,t=_+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=m)for(n=this._first;n&&n._startTime<=t&&!f;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(f=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!f;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(f=n),n=n._prev;f&&(this._time=t=f._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var T=this._yoyo&&0!==(1&w),A=T===(this._yoyo&&0!==(1&this._cycle)),E=this._totalTime,R=this._cycle,P=this._rawPrevTime,M=this._time;if(this._totalTime=w*_,this._cycle<w?T=!T:this._totalTime+=_,this._time=m,this._rawPrevTime=0===_?b-1e-4:b,this._cycle=w,this._locked=!0,m=T?0:_,this.render(m,e,0===_),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),m!==this._time)return;if(A&&(m=T?_+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!x)return;this._time=M,this._totalTime=E,this._cycle=R,this._rawPrevTime=P}if(!(this._time!==m&&this._first||i||h||f))return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),d=this._time,d>=m)for(n=this._first;n&&(u=n._next,d===this._time&&(!this._paused||x));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(f===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=u;else for(n=this._last;n&&(u=n._prev,d===this._time&&(!this._paused||x));){if(n._active||n._startTime<=m&&!n._paused&&!n._gc){if(f===n){for(f=n._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(t-f._startTime)*f._timeScale:(t-f._startTime)*f._timeScale,e,i),f=f._prev;f=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=u}this._onUpdate&&(e||(o.length&&a(),this._callback("onUpdate"))),l&&(this._locked||this._gc||g!==this._startTime&&y===this._timeScale||(0===this._time||p>=this.totalDuration())&&(s&&(o.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))},l.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,s=[],o=this.getChildren(t,e,i),a=0,u=o.length;for(n=0;u>n;n++)r=o[n],r.isActive()&&(s[a++]=r);return s},l.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;n>e;e++)if(i[e].time>t)return i[e].name;return null},l.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},l.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},l.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],r={},s=o._gsDefine.globals,a=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(t,e,i,n){var r={a:t},s={},o={},a={c:n},u=(t+e)/2,l=(e+i)/2,h=(i+n)/2,c=(u+l)/2,f=(l+h)/2,d=(f-c)/8;return r.b=u+(t-u)/4,s.b=c+d,r.c=s.a=(r.b+s.b)/2,s.c=o.a=(c+f)/2,o.b=f-d,a.b=h+(n-h)/4,o.c=a.a=(o.b+a.b)/2,[r,s,o,a]},h=function(t,r,s,o,a){var u,h,c,f,d,p,_,m,v,g,y,b,x,w=t.length-1,T=0,A=t[0].a;for(u=0;w>u;u++)d=t[T],h=d.a,c=d.d,f=t[T+1].d,a?(y=e[u],b=i[u],x=(b+y)*r*.25/(o?.5:n[u]||.5),p=c-(c-h)*(o?.5*r:0!==y?x/y:0),_=c+(f-c)*(o?.5*r:0!==b?x/b:0),m=c-(p+((_-p)*(3*y/(y+b)+.5)/4||0))):(p=c-(c-h)*r*.5,_=c+(f-c)*r*.5,m=c-(p+_)/2),p+=m,_+=m,d.c=v=p,0!==u?d.b=A:d.b=A=d.a+.6*(d.c-d.a),d.da=c-h,d.ca=v-h,d.ba=A-h,s?(g=l(h,A,v,c),t.splice(T,1,g[0],g[1],g[2],g[3]),T+=4):T++,A=_;d=t[T],d.b=A,d.c=A+.4*(d.d-A),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=A-d.a,s&&(g=l(d.a,A,d.c,d.d),t.splice(T,1,g[0],g[1],g[2],g[3]))},c=function(t,n,r,s){var o,u,l,h,c,f,d=[];if(s)for(t=[s].concat(t),u=t.length;--u>-1;)"string"==typeof(f=t[u][n])&&"="===f.charAt(1)&&(t[u][n]=s[n]+Number(f.charAt(0)+f.substr(2)));if(o=t.length-2,0>o)return d[0]=new a(t[0][n],0,0,t[-1>o?0:1][n]),d;for(u=0;o>u;u++)l=t[u][n],h=t[u+1][n],d[u]=new a(l,0,0,h),r&&(c=t[u+2][n],e[u]=(e[u]||0)+(h-l)*(h-l),i[u]=(i[u]||0)+(c-h)*(c-h));return d[u]=new a(t[u][n],0,0,t[u+1][n]),d},f=function(t,s,o,a,l,f){var d,p,_,m,v,g,y,b,x={},w=[],T=f||t[0];l="string"==typeof l?","+l+",":u,null==s&&(s=1);for(p in t[0])w.push(p);if(t.length>1){for(b=t[t.length-1],y=!0,d=w.length;--d>-1;)if(p=w[d],Math.abs(T[p]-b[p])>.05){y=!1;break}y&&(t=t.concat(),f&&t.unshift(f),t.push(t[1]),f=t[t.length-3])}for(e.length=i.length=n.length=0,d=w.length;--d>-1;)p=w[d],r[p]=-1!==l.indexOf(","+p+","),x[p]=c(t,p,r[p],f);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),i[d]=Math.sqrt(i[d]);if(!a){for(d=w.length;--d>-1;)if(r[p])for(_=x[w[d]],g=_.length-1,m=0;g>m;m++)v=_[m+1].da/i[m]+_[m].da/e[m]||0,n[m]=(n[m]||0)+v*v;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=w.length,m=o?4:1;--d>-1;)p=w[d],_=x[p],h(_,s,o,a,r[p]),y&&(_.splice(0,m),_.splice(_.length-m,m));return x},d=function(t,e,i){e=e||"soft";var n,r,s,o,u,l,h,c,f,d,p,_={},m="cubic"===e?3:2,v="soft"===e,g=[];if(v&&i&&(t=[i].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(f in t[0])g.push(f);for(l=g.length;--l>-1;){for(f=g[l],_[f]=u=[],d=0,c=t.length,h=0;c>h;h++)n=null==i?t[h][f]:"string"==typeof(p=t[h][f])&&"="===p.charAt(1)?i[f]+Number(p.charAt(0)+p.substr(2)):Number(p),v&&h>1&&c-1>h&&(u[d++]=(n+u[d-2])/2),u[d++]=n;for(c=d-m+1,d=0,h=0;c>h;h+=m)n=u[h],r=u[h+1],s=u[h+2],o=2===m?0:u[h+3],u[d++]=p=3===m?new a(n,r,s,o):new a(n,(2*r+n)/3,(2*r+s)/3,s);u.length=d}return _},p=function(t,e,i){for(var n,r,s,o,a,u,l,h,c,f,d,p=1/i,_=t.length;--_>-1;)for(f=t[_],s=f.a,o=f.d-s,a=f.c-s,u=f.b-s,n=r=0,h=1;i>=h;h++)l=p*h,c=1-l,n=r-(r=(l*l*o+3*c*(l*a+c*u))*l),d=_*i+h-1,e[d]=(e[d]||0)+n*n},_=function(t,e){e=e>>0||6;var i,n,r,s,o=[],a=[],u=0,l=0,h=e-1,c=[],f=[];for(i in t)p(t[i],o,e);for(r=o.length,n=0;r>n;n++)u+=Math.sqrt(o[n]),s=n%e,f[s]=u,s===h&&(l+=u,s=n/e>>0,c[s]=f,a[s]=l,u=0,f=[]);return{length:l,lengths:a,segments:c}},m=o._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.6",API:2,global:!0,init:function(t,e,i){this._target=t,
e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,s,o,a,u=e.values||[],l={},h=u[0],c=e.autoRotate||i.vars.orientToBezier;this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",c===!0?0:Number(c)||0]]:null;for(n in h)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],l[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),a||l[n]!==u[0][n]&&(a=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?f(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):d(u,e.type,l),this._segCount=this._beziers[n].length,this._timeRes){var p=_(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),s=c.length;--s>-1;){for(o=0;3>o;o++)n=c[s][o],this._func[n]="function"==typeof t[n]?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;n=c[s][2],this._initialRotations[s]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,s,o,a,u,l,h,c,f=this._segCount,d=this._func,p=this._target,_=e!==this._startRatio;if(this._timeRes){if(h=this._lengths,c=this._curSeg,e*=this._length,r=this._li,e>this._l2&&f-1>r){for(l=f-1;l>r&&(this._l2=h[++r])<=e;);this._l1=h[r-1],this._li=r,this._curSeg=c=this._segments[r],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=h[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=h[r],this._li=r,this._curSeg=c=this._segments[r],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<c.length-1){for(l=c.length-1;l>r&&(this._s2=c[++r])<=e;);this._s1=c[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=c[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=c[r],this._si=r}a=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else i=0>e?0:e>=1?f-1:f*e>>0,a=(e-i*(1/f))*f;for(n=1-a,r=this._props.length;--r>-1;)s=this._props[r],o=this._beziers[s][i],u=(a*a*o.da+3*n*(a*o.ca+n*o.ba))*a+o.a,this._round[s]&&(u=Math.round(u)),d[s]?p[s](u):p[s]=u;if(this._autoRotate){var m,v,g,y,b,x,w,T=this._autoRotate;for(r=T.length;--r>-1;)s=T[r][2],x=T[r][3]||0,w=T[r][4]===!0?1:t,o=this._beziers[T[r][0]],m=this._beziers[T[r][1]],o&&m&&(o=o[i],m=m[i],v=o.a+(o.b-o.a)*a,y=o.b+(o.c-o.b)*a,v+=(y-v)*a,y+=(o.c+(o.d-o.c)*a-y)*a,g=m.a+(m.b-m.a)*a,b=m.b+(m.c-m.b)*a,g+=(b-g)*a,b+=(m.c+(m.d-m.c)*a-b)*a,u=_?Math.atan2(b-g,y-v)*w+x:this._initialRotations[r],d[s]?p[s](u):p[s]=u)}}}),v=m.prototype;m.bezierThrough=f,m.cubicToQuadratic=l,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=s.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,o,a,u){e instanceof Array&&(e={values:e}),u=new m;var l,h,c,f=e.values,d=f.length-1,p=[],_={};if(0>d)return a;for(l=0;d>=l;l++)c=i(t,f[l],o,a,u,d!==l),p[l]=c.end;for(h in e)_[h]=e[h];return _.values=p,a=new r(t,"bezier",0,0,c.pt,2),a.data=c,a.plugin=u,a.setRatio=n,0===_.autoRotate&&(_.autoRotate=!0),!_.autoRotate||_.autoRotate instanceof Array||(l=_.autoRotate===!0?0:Number(_.autoRotate),_.autoRotate=null!=c.end.left?[["left","top","rotation",l,!1]]:null!=c.end.x?[["x","y","rotation",l,!1]]:!1),_.autoRotate&&(o._transform||o._enableTransforms(!1),c.autoRotate=o._target._gsTransform,c.proxy.rotation=c.autoRotate.rotation||0),u._onInitTween(c.proxy,_,o._tween),a}})}},v._roundProps=function(t,e){for(var i=this._overwriteProps,n=i.length;--n>-1;)(t[i[n]]||t.bezier||t.bezierThrough)&&(this._round[i[n]]=e)},v._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);return this._super._kill.call(this,t)}}(),o._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,r,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},u=o._gsDefine.globals,l={},h=a.prototype=new t("css");h.constructor=a,a.version="1.18.5",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var c,f,d,p,_,m,v=/(?:\-|\.|\b)(\d|\.|e\-)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,A=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,R=/([A-Z])/g,P=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,O=function(t,e){return e.toUpperCase()},S=/(?:Left|Right|Width)/i,C=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,k=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,B=/,(?=[^\)]*(?:\(|$))/gi,F=/[\s,\(]/i,D=Math.PI/180,N=180/Math.PI,U={},L=document,j=function(t){return L.createElementNS?L.createElementNS("http://www.w3.org/1999/xhtml",t):L.createElement(t)},I=j("div"),z=j("img"),X=a._internals={_specialProps:l},Y=navigator.userAgent,V=function(){var t=Y.indexOf("Android"),e=j("a");return d=-1!==Y.indexOf("Safari")&&-1===Y.indexOf("Chrome")&&(-1===t||Number(Y.substr(t+8,1))>3),_=d&&Number(Y.substr(Y.indexOf("Version/")+8,1))<6,p=-1!==Y.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Y)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Y))&&(m=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),H=function(t){return w.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},G=function(t){window.console&&console.log(t)},q="",W="",Q=function(t,e){e=e||I;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(W=3===n?"ms":i[n],q="-"+W.toLowerCase()+"-",W+t):null},Z=L.defaultView?L.defaultView.getComputedStyle:function(){},K=a.getStyle=function(t,e,i,n,r){var s;return V||"opacity"!==e?(!n&&t.style[e]?s=t.style[e]:(i=i||Z(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(R,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):H(t)},J=X.convertToPixels=function(t,i,n,r,s){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var o,u,l,h=S.test(i),c=t,f=I.style,d=0>n,p=1===n;if(d&&(n=-n),p&&(n*=100),"%"===r&&-1!==i.indexOf("border"))o=n/100*(h?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+K(t,"position")+";line-height:0;","%"!==r&&c.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)f[h?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(c=t.parentNode||L.body,u=c._gsCache,l=e.ticker.frame,u&&h&&u.time===l)return u.width*n/100;f[h?"width":"height"]=n+r}c.appendChild(I),o=parseFloat(I[h?"offsetWidth":"offsetHeight"]),c.removeChild(I),h&&"%"===r&&a.cacheWidths!==!1&&(u=c._gsCache=c._gsCache||{},u.time=l,u.width=o/n*100),0!==o||s||(o=J(t,i,n,r,!0))}return p&&(o/=100),d?-o:o},$=X.calculateOffset=function(t,e,i){if("absolute"!==K(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=K(t,"margin"+n,i);return t["offset"+n]-(J(t,e,parseFloat(r),r.replace(x,""))||0)},tt=function(t,e){var i,n,r,s={};if(e=e||Z(t,null))if(i=e.length)for(;--i>-1;)r=e[i],-1!==r.indexOf("-transform")&&Pt!==r||(s[r.replace(P,O)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&Rt!==i||(s[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(P,O)]=e[i]);return V||(s.opacity=H(t)),n=It(t,e,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,Ot&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},et=function(t,e,i,n,r){var s,o,a,u={},l=t.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(s=i[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"!=typeof s&&"string"!=typeof s||(u[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[o]||""===e[o].replace(b,"")?s:0:$(t,o),void 0!==l[o]&&(a=new mt(l,o,l[o],a))));if(n)for(o in n)"className"!==o&&(u[o]=n[o]);return{difs:u,firstMPT:a}},it={width:["Left","Right"],height:["Top","Bottom"]},nt=["marginLeft","marginRight","marginTop","marginBottom"],rt=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||Z(t))[e]||0;if(t.getBBox&&Ut(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=it[e],s=r.length;for(i=i||Z(t,null);--s>-1;)n-=parseFloat(K(t,"padding"+r[s],i,!0))||0,n-=parseFloat(K(t,"border"+r[s]+"Width",i,!0))||0;return n},st=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,n=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":n[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(st(n[i]));return t.join(",")}return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+s+(n.length>2?" "+n[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(b,"")),e.oy=parseFloat(s.replace(b,"")),e.v=t),e||t},ot=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},at=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ut=function(t,e,i,n){var r,s,o,a,u,l=1e-6;return null==t?a=e:"number"==typeof t?a=t:(r=360,s=t.split("_"),u="="===t.charAt(1),o=(u?parseInt(t.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===t.indexOf("rad")?1:N)-(u?0:e),s.length&&(n&&(n[i]=e+o),-1!==t.indexOf("short")&&(o%=r,o!==o%(r/2)&&(o=0>o?o+r:o-r)),-1!==t.indexOf("_cw")&&0>o?o=(o+9999999999*r)%r-(o/r|0)*r:-1!==t.indexOf("ccw")&&o>0&&(o=(o-9999999999*r)%r-(o/r|0)*r)),a=e+o),l>a&&a>-l&&(a=0),a},lt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(i-e)*t*6:.5>t?i:2>3*t?e+(i-e)*(2/3-t)*6:e)+.5|0},ct=a.parseColor=function(t,e){var i,n,r,s,o,a,u,l,h,c,f;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),lt[t])i=lt[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),s=t.charAt(3),t="#"+n+n+r+r+s+s),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=f=t.match(v),e){if(-1!==t.indexOf("="))return t.match(g)}else o=Number(i[0])%360/360,a=Number(i[1])/100,u=Number(i[2])/100,r=.5>=u?u*(a+1):u+a-u*a,n=2*u-r,i.length>3&&(i[3]=Number(t[3])),i[0]=ht(o+1/3,n,r),i[1]=ht(o,n,r),i[2]=ht(o-1/3,n,r);else i=t.match(v)||lt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=lt.black;return e&&!f&&(n=i[0]/255,r=i[1]/255,s=i[2]/255,l=Math.max(n,r,s),h=Math.min(n,r,s),u=(l+h)/2,l===h?o=a=0:(c=l-h,a=u>.5?c/(2-l-h):c/(l+h),o=l===n?(r-s)/c+(s>r?6:0):l===r?(s-n)/c+2:(n-r)/c+4,o*=60),i[0]=o+.5|0,i[1]=100*a+.5|0,i[2]=100*u+.5|0),i},ft=function(t,e){var i,n,r,s=t.match(dt)||[],o=0,a=s.length?"":t;for(i=0;i<s.length;i++)n=s[i],r=t.substr(o,t.indexOf(n,o)-o),o+=r.length+n.length,n=ct(n,e),3===n.length&&n.push(1),a+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return a+t.substr(o)},dt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(h in lt)dt+="|"+h+"\\b";dt=new RegExp(dt+")","gi"),a.colorStringFilter=function(t){var e,i=t[0]+t[1];dt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=ft(t[0],e),t[1]=ft(t[1],e)),dt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var pt=function(t,e,i,n){if(null==t)return function(t){return t};var r,s=e?(t.match(dt)||[""])[0]:"",o=t.split(s).join("").match(y)||[],a=t.substr(0,t.indexOf(o[0])),u=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",h=o.length,c=h>0?o[0].replace(v,""):"";return h?r=e?function(t){var e,f,d,p;if("number"==typeof t)t+=c;else if(n&&B.test(t)){for(p=t.replace(B,"|").split("|"),d=0;d<p.length;d++)p[d]=r(p[d]);return p.join(",")}if(e=(t.match(dt)||[s])[0],f=t.split(e).join("").match(y)||[],d=f.length,h>d--)for(;++d<h;)f[d]=i?f[(d-1)/2|0]:o[d];return a+f.join(l)+l+e+u+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,f;if("number"==typeof t)t+=c;else if(n&&B.test(t)){for(s=t.replace(B,"|").split("|"),f=0;f<s.length;f++)s[f]=r(s[f]);return s.join(",")}if(e=t.match(y)||[],f=e.length,h>f--)for(;++f<h;)e[f]=i?e[(f-1)/2|0]:o[f];return a+e.join(l)+u}:function(t){return t}},_t=function(t){return t=t.split(","),function(e,i,n,r,s,o,a){var u,l=(i+"").split(" ");for(a={},u=0;4>u;u++)a[t[u]]=l[u]=l[u]||l[(u-1)/2>>0];return r.parse(e,a,s,o)}},mt=(X._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,s,o=this.data,a=o.proxy,u=o.firstMPT,l=1e-6;u;)e=a[u.v],u.r?e=Math.round(e):l>e&&e>-l&&(e=0),u.t[u.p]=e,u=u._next;if(o.autoRotate&&(o.autoRotate.rotation=a.rotation),1===t||0===t)for(u=o.firstMPT,s=1===t?"e":"b";u;){if(i=u.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[s]=r}}else i[s]=i.s+i.xs0;u=u._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),vt=(X._parseToProxy=function(t,e,i,n,r,s){var o,a,u,l,h,c=n,f={},d={},p=i._transform,_=U;for(i._transform=null,U=e,n=h=i.parse(t,e,n,r),U=_,s&&(i._transform=p,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(n.type<=1&&(a=n.p,d[a]=n.s+n.c,f[a]=n.s,s||(l=new mt(n,"s",a,l,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)u="xn"+o,a=n.p+"_"+u,d[a]=n.data[u],f[a]=n[u],s||(l=new mt(n,u,a,l,n.rxp[u]));n=n._next}return{proxy:f,end:d,firstMPT:l,pt:h}},X.CSSPropTween=function(t,e,n,r,o,a,u,l,h,c,f){this.t=t,this.p=e,this.s=n,this.c=r,this.n=u||e,t instanceof vt||s.push(this.n),this.r=l,this.type=a||0,h&&(this.pr=h,i=!0),this.b=void 0===c?n:c,this.e=void 0===f?n+r:f,o&&(this._next=o,o._prev=this)}),gt=function(t,e,i,n,r,s){var o=new vt(t,e,i,n-i,r,-1,s);return o.b=i,o.e=o.xs0=n,o},yt=a.parseComplex=function(t,e,i,n,r,s,o,u,l,h){i=i||s||"",o=new vt(t,e,0,0,o,h?2:1,null,!1,u,i,n),n+="",r&&dt.test(n+i)&&(n=[i,n],a.colorStringFilter(n),i=n[0],n=n[1]);var f,d,p,_,m,y,b,x,w,T,A,E,R,P=i.split(", ").join(",").split(" "),M=n.split(", ").join(",").split(" "),O=P.length,S=c!==!1;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(P=P.join(" ").replace(B,", ").split(" "),M=M.join(" ").replace(B,", ").split(" "),O=P.length),O!==M.length&&(P=(s||"").split(" "),O=P.length),o.plugin=l,o.setRatio=h,dt.lastIndex=0,f=0;O>f;f++)if(_=P[f],m=M[f],x=parseFloat(_),x||0===x)o.appendXtra("",x,ot(m,x),m.replace(g,""),S&&-1!==m.indexOf("px"),!0);else if(r&&dt.test(_))E=m.indexOf(")")+1,E=")"+(E?m.substr(E):""),R=-1!==m.indexOf("hsl")&&V,_=ct(_,R),m=ct(m,R),w=_.length+m.length>6,w&&!V&&0===m[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(M[f]).join("transparent")):(V||(w=!1),R?o.appendXtra(w?"hsla(":"hsl(",_[0],ot(m[0],_[0]),",",!1,!0).appendXtra("",_[1],ot(m[1],_[1]),"%,",!1).appendXtra("",_[2],ot(m[2],_[2]),w?"%,":"%"+E,!1):o.appendXtra(w?"rgba(":"rgb(",_[0],m[0]-_[0],",",!0,!0).appendXtra("",_[1],m[1]-_[1],",",!0).appendXtra("",_[2],m[2]-_[2],w?",":E,!0),w&&(_=_.length<4?1:_[3],o.appendXtra("",_,(m.length<4?1:m[3])-_,E,!1))),dt.lastIndex=0;else if(y=_.match(v)){if(b=m.match(g),!b||b.length!==y.length)return o;for(p=0,d=0;d<y.length;d++)A=y[d],T=_.indexOf(A,p),o.appendXtra(_.substr(p,T-p),Number(A),ot(b[d],A),"",S&&"px"===_.substr(T+A.length,2),0===d),p=T+A.length;o["xs"+o.l]+=_.substr(p)}else o["xs"+o.l]+=o.l||o["xs"+o.l]?" "+m:m;if(-1!==n.indexOf("=")&&o.data){for(E=o.xs0+o.data.s,f=1;f<o.l;f++)E+=o["xs"+f]+o.data["xn"+f];o.e=E+o["xs"+f]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},bt=9;for(h=vt.prototype,h.l=h.pr=0;--bt>0;)h["xn"+bt]=0,h["xs"+bt]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,n,r,s){var o=this,a=o.l;return o["xs"+a]+=s&&(a||o["xs"+a])?" "+t:t||"",i||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",a>0?(o.data["xn"+a]=e+i,o.rxp["xn"+a]=r,o["xn"+a]=e,o.plugin||(o.xfirst=new vt(o,"xn"+a,e,i,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0),o):(o.data={s:e+i},o.rxp={},o.s=e,o.c=i,o.r=r,o)):(o["xs"+a]+=e+(n||""),o)};var xt=function(t,e){e=e||{},this.p=e.prefix?Q(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||pt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},wt=X._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,s=t.split(","),o=e.defaultValue;for(i=i||[o],n=0;n<s.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||o,r=new xt(s[n],e)},Tt=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";wt(t,{parser:function(t,i,n,r,s,o,a){var h=u.com.greensock.plugins[e];return h?(h._cssRegister(),l[n].parse(t,i,n,r,s,o,a)):(G("Error: "+e+" js file not loaded."),s)}})}};h=xt.prototype,h.parseComplex=function(t,e,i,n,r,s){var o,a,u,l,h,c,f=this.keyword;if(this.multi&&(B.test(i)||B.test(e)?(a=e.replace(B,"|").split("|"),u=i.replace(B,"|").split("|")):f&&(a=[e],u=[i])),u){for(l=u.length>a.length?u.length:a.length,o=0;l>o;o++)e=a[o]=a[o]||this.dflt,i=u[o]=u[o]||this.dflt,f&&(h=e.indexOf(f),c=i.indexOf(f),h!==c&&(-1===c?a[o]=a[o].split(f).join(""):-1===h&&(a[o]+=" "+f)));e=a.join(", "),i=u.join(", ")}return yt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,s)},h.parse=function(t,e,i,n,s,o,a){return this.parseComplex(t.style,this.format(K(t,this.p,r,!1,this.dflt)),this.format(e),s,o)},a.registerSpecialProp=function(t,e,i){wt(t,{parser:function(t,n,r,s,o,a,u){var l=new vt(t,r,0,0,o,2,r,!1,i);return l.plugin=a,l.setRatio=e(t,n,s._tween,r),l},priority:i})},a.useSVGTransformAttr=d||p;var At,Et="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Rt=Q("transform"),Pt=q+"transform",Mt=Q("transformOrigin"),Ot=null!==Q("perspective"),St=X.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Ot?a.defaultForce3D||"auto":!1},Ct=window.SVGElement,kt=function(t,e,i){var n,r=L.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(s,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Bt=L.documentElement,Ft=function(){var t,e,i,n=m||/Android/i.test(Y)&&!window.chrome;return L.createElementNS&&!n&&(t=kt("svg",Bt),e=kt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Mt]="50% 50%",e.style[Rt]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(p&&Ot),Bt.removeChild(t)),n}(),Dt=function(t,e,i,n,r,s){var o,u,l,h,c,f,d,p,_,m,v,g,y,b,x=t._gsTransform,w=jt(t,!0);x&&(y=x.xOrigin,b=x.yOrigin),(!n||(o=n.split(" ")).length<2)&&(d=t.getBBox(),e=st(e).split(" "),o=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*d.width:parseFloat(e[0]))+d.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*d.height:parseFloat(e[1]))+d.y]),i.xOrigin=h=parseFloat(o[0]),i.yOrigin=c=parseFloat(o[1]),n&&w!==Lt&&(f=w[0],d=w[1],p=w[2],_=w[3],m=w[4],v=w[5],g=f*_-d*p,u=h*(_/g)+c*(-p/g)+(p*v-_*m)/g,l=h*(-d/g)+c*(f/g)-(f*v-d*m)/g,h=i.xOrigin=o[0]=u,c=i.yOrigin=o[1]=l),x&&(s&&(i.xOffset=x.xOffset,i.yOffset=x.yOffset,x=i),r||r!==!1&&a.defaultSmoothOrigin!==!1?(u=h-y,l=c-b,x.xOffset+=u*w[0]+l*w[2]-u,x.yOffset+=u*w[1]+l*w[3]-l):x.xOffset=x.yOffset=0),s||t.setAttribute("data-svg-origin",o.join(" "))},Nt=function(t){try{return t.getBBox()}catch(t){}},Ut=function(t){return!!(Ct&&t.getBBox&&t.getCTM&&Nt(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Lt=[1,0,0,1,0,0],jt=function(t,e){var i,n,r,s,o,a,u=t._gsTransform||new St,l=1e5,h=t.style;if(Rt?n=K(t,Pt,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(C),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),u.x||0,u.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,i&&Rt&&((a="none"===Z(t).display)||!t.parentNode)&&(a&&(s=h.display,h.display="block"),t.parentNode||(o=1,Bt.appendChild(t)),n=K(t,Pt,null,!0),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,s?h.display=s:a&&Vt(h,"display"),o&&Bt.removeChild(t)),(u.svg||t.getBBox&&Ut(t))&&(i&&-1!==(h[Rt]+"").indexOf("matrix")&&(n=h[Rt],i=0),r=t.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(n=r,i=0):-1!==r.indexOf("translate")&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Lt;for(r=(n||"").match(v)||[],bt=r.length;--bt>-1;)s=Number(r[bt]),r[bt]=(o=s-(s|=0))?(o*l+(0>o?-.5:.5)|0)/l+s:s;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},It=X.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var s,o,u,l,h,c,f=n?t._gsTransform||new St:new St,d=f.scaleX<0,p=2e-5,_=1e5,m=Ot?parseFloat(K(t,Mt,i,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(f.svg=!(!t.getBBox||!Ut(t)),f.svg&&(Dt(t,K(t,Mt,i,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),At=a.useSVGTransformAttr||Ft),s=jt(t),s!==Lt){if(16===s.length){var g,y,b,x,w,T=s[0],A=s[1],E=s[2],R=s[3],P=s[4],M=s[5],O=s[6],S=s[7],C=s[8],k=s[9],B=s[10],F=s[12],D=s[13],U=s[14],L=s[11],j=Math.atan2(O,B);f.zOrigin&&(U=-f.zOrigin,F=C*U-s[12],D=k*U-s[13],U=B*U+f.zOrigin-s[14]),f.rotationX=j*N,j&&(x=Math.cos(-j),w=Math.sin(-j),g=P*x+C*w,y=M*x+k*w,b=O*x+B*w,C=P*-w+C*x,k=M*-w+k*x,B=O*-w+B*x,L=S*-w+L*x,P=g,M=y,O=b),j=Math.atan2(-E,B),f.rotationY=j*N,j&&(x=Math.cos(-j),w=Math.sin(-j),g=T*x-C*w,y=A*x-k*w,b=E*x-B*w,k=A*w+k*x,B=E*w+B*x,L=R*w+L*x,T=g,A=y,E=b),j=Math.atan2(A,T),f.rotation=j*N,j&&(x=Math.cos(-j),w=Math.sin(-j),T=T*x+P*w,y=A*x+M*w,M=A*-w+M*x,O=E*-w+O*x,A=y),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),f.scaleX=(Math.sqrt(T*T+A*A)*_+.5|0)/_,f.scaleY=(Math.sqrt(M*M+k*k)*_+.5|0)/_,f.scaleZ=(Math.sqrt(O*O+B*B)*_+.5|0)/_,f.rotationX||f.rotationY?f.skewX=0:(f.skewX=P||M?Math.atan2(P,M)*N+f.rotation:f.skewX||0,Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(d?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180))),f.perspective=L?1/(0>L?-L:L):0,f.x=F,f.y=D,f.z=U,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*T-f.yOrigin*P),f.y-=f.yOrigin-(f.yOrigin*A-f.xOrigin*M))}else if(!Ot||r||!s.length||f.x!==s[4]||f.y!==s[5]||!f.rotationX&&!f.rotationY){var I=s.length>=6,z=I?s[0]:1,X=s[1]||0,Y=s[2]||0,V=I?s[3]:1;f.x=s[4]||0,f.y=s[5]||0,u=Math.sqrt(z*z+X*X),l=Math.sqrt(V*V+Y*Y),h=z||X?Math.atan2(X,z)*N:f.rotation||0,c=Y||V?Math.atan2(Y,V)*N+h:f.skewX||0,Math.abs(c)>90&&Math.abs(c)<270&&(d?(u*=-1,c+=0>=h?180:-180,h+=0>=h?180:-180):(l*=-1,c+=0>=c?180:-180)),f.scaleX=u,f.scaleY=l,f.rotation=h,f.skewX=c,Ot&&(f.rotationX=f.rotationY=f.z=0,f.perspective=v,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*z+f.yOrigin*Y),f.y-=f.yOrigin-(f.xOrigin*X+f.yOrigin*V))}f.zOrigin=m;for(o in f)f[o]<p&&f[o]>-p&&(f[o]=0)}return n&&(t._gsTransform=f,f.svg&&(At&&t.style[Rt]?e.delayedCall(.001,function(){Vt(t.style,Rt)}):!At&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},zt=function(t){var e,i,n=this.data,r=-n.rotation*D,s=r+n.skewX*D,o=1e5,a=(Math.cos(r)*n.scaleX*o|0)/o,u=(Math.sin(r)*n.scaleX*o|0)/o,l=(Math.sin(s)*-n.scaleY*o|0)/o,h=(Math.cos(s)*n.scaleY*o|0)/o,c=this.t.style,f=this.t.currentStyle;if(f){i=u,u=-l,l=-i,e=f.filter,c.filter="";var d,p,_=this.t.offsetWidth,v=this.t.offsetHeight,g="absolute"!==f.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+u+", M21="+l+", M22="+h,b=n.x+_*n.xPercent/100,T=n.y+v*n.yPercent/100;if(null!=n.ox&&(d=(n.oxp?_*n.ox*.01:n.ox)-_/2,p=(n.oyp?v*n.oy*.01:n.oy)-v/2,b+=d-(d*a+p*u),T+=p-(d*l+p*h)),g?(d=_/2,p=v/2,y+=", Dx="+(d-(d*a+p*u)+b)+", Dy="+(p-(d*l+p*h)+T)+")"):y+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?c.filter=e.replace(k,y):c.filter=y+" "+e,0!==t&&1!==t||1===a&&0===u&&0===l&&1===h&&(g&&-1===y.indexOf("Dx=0, Dy=0")||w.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!g){var A,E,R,P=8>m?1:-1;for(d=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((_-((0>a?-a:a)*_+(0>u?-u:u)*v))/2+b),n.ieOffsetY=Math.round((v-((0>h?-h:h)*v+(0>l?-l:l)*_))/2+T),bt=0;4>bt;bt++)E=nt[bt],A=f[E],i=-1!==A.indexOf("px")?parseFloat(A):J(this.t,E,parseFloat(A),A.replace(x,""))||0,R=i!==n[E]?2>bt?-n.ieOffsetX:-n.ieOffsetY:2>bt?d-n.ieOffsetX:p-n.ieOffsetY,c[E]=(n[E]=Math.round(i-R*(0===bt||2===bt?1:P)))+"px"}}},Xt=X.set3DTransformRatio=X.setTransformRatio=function(t){var e,i,n,r,s,o,a,u,l,h,c,f,d,_,m,v,g,y,b,x,w,T,A,E=this.data,R=this.t.style,P=E.rotation,M=E.rotationX,O=E.rotationY,S=E.scaleX,C=E.scaleY,k=E.scaleZ,B=E.x,F=E.y,N=E.z,U=E.svg,L=E.perspective,j=E.force3D;if(((1===t||0===t)&&"auto"===j&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!j)&&!N&&!L&&!O&&!M&&1===k||At&&U||!Ot)return void(P||E.skewX||U?(P*=D,T=E.skewX*D,A=1e5,e=Math.cos(P)*S,r=Math.sin(P)*S,i=Math.sin(P-T)*-C,s=Math.cos(P-T)*C,T&&"simple"===E.skewType&&(g=Math.tan(T),g=Math.sqrt(1+g*g),i*=g,s*=g,E.skewY&&(e*=g,r*=g)),U&&(B+=E.xOrigin-(E.xOrigin*e+E.yOrigin*i)+E.xOffset,F+=E.yOrigin-(E.xOrigin*r+E.yOrigin*s)+E.yOffset,At&&(E.xPercent||E.yPercent)&&(_=this.t.getBBox(),B+=.01*E.xPercent*_.width,F+=.01*E.yPercent*_.height),_=1e-6,_>B&&B>-_&&(B=0),_>F&&F>-_&&(F=0)),b=(e*A|0)/A+","+(r*A|0)/A+","+(i*A|0)/A+","+(s*A|0)/A+","+B+","+F+")",U&&At?this.t.setAttribute("transform","matrix("+b):R[Rt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+b):R[Rt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+S+",0,0,"+C+","+B+","+F+")");if(p&&(_=1e-4,_>S&&S>-_&&(S=k=2e-5),_>C&&C>-_&&(C=k=2e-5),!L||E.z||E.rotationX||E.rotationY||(L=0)),P||E.skewX)P*=D,m=e=Math.cos(P),v=r=Math.sin(P),E.skewX&&(P-=E.skewX*D,m=Math.cos(P),v=Math.sin(P),"simple"===E.skewType&&(g=Math.tan(E.skewX*D),g=Math.sqrt(1+g*g),m*=g,v*=g,E.skewY&&(e*=g,r*=g))),i=-v,s=m;else{if(!(O||M||1!==k||L||U))return void(R[Rt]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+B+"px,"+F+"px,"+N+"px)"+(1!==S||1!==C?" scale("+S+","+C+")":""));e=s=1,i=r=0}l=1,n=o=a=u=h=c=0,f=L?-1/L:0,d=E.zOrigin,_=1e-6,x=",",w="0",P=O*D,P&&(m=Math.cos(P),v=Math.sin(P),a=-v,h=f*-v,n=e*v,o=r*v,l=m,f*=m,e*=m,r*=m),P=M*D,P&&(m=Math.cos(P),v=Math.sin(P),g=i*m+n*v,y=s*m+o*v,u=l*v,c=f*v,n=i*-v+n*m,o=s*-v+o*m,l*=m,f*=m,i=g,s=y),1!==k&&(n*=k,o*=k,l*=k,f*=k),1!==C&&(i*=C,s*=C,u*=C,c*=C),1!==S&&(e*=S,r*=S,a*=S,h*=S),(d||U)&&(d&&(B+=n*-d,F+=o*-d,N+=l*-d+d),U&&(B+=E.xOrigin-(E.xOrigin*e+E.yOrigin*i)+E.xOffset,F+=E.yOrigin-(E.xOrigin*r+E.yOrigin*s)+E.yOffset),_>B&&B>-_&&(B=w),_>F&&F>-_&&(F=w),_>N&&N>-_&&(N=0)),b=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",b+=(_>e&&e>-_?w:e)+x+(_>r&&r>-_?w:r)+x+(_>a&&a>-_?w:a),b+=x+(_>h&&h>-_?w:h)+x+(_>i&&i>-_?w:i)+x+(_>s&&s>-_?w:s),M||O||1!==k?(b+=x+(_>u&&u>-_?w:u)+x+(_>c&&c>-_?w:c)+x+(_>n&&n>-_?w:n),b+=x+(_>o&&o>-_?w:o)+x+(_>l&&l>-_?w:l)+x+(_>f&&f>-_?w:f)+x):b+=",0,0,0,0,1,0,",b+=B+x+F+x+N+x+(L?1+-N/L:1)+")",R[Rt]=b};h=St.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=h.xOffset=h.yOffset=0,h.scaleX=h.scaleY=h.scaleZ=1,wt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,s,o,u){if(n._lastParsedTransform===u)return s;n._lastParsedTransform=u;var l,h,c,f,d,p,_,m,v,g=t._gsTransform,y=t.style,b=1e-6,x=Et.length,w=u,T={},A="transformOrigin",E=It(t,r,!0,u.parseTransform);if(n._transform=E,"string"==typeof w.transform&&Rt)h=I.style,h[Rt]=w.transform,h.display="block",h.position="absolute",L.body.appendChild(I),l=It(I,null,!1),E.svg&&(_=E.xOrigin,m=E.yOrigin,l.x-=E.xOffset,l.y-=E.yOffset,(w.transformOrigin||w.svgOrigin)&&(c={},Dt(t,st(w.transformOrigin),c,w.svgOrigin,w.smoothOrigin,!0),_=c.xOrigin,m=c.yOrigin,l.x-=c.xOffset-E.xOffset,l.y-=c.yOffset-E.yOffset),(_||m)&&(v=jt(I,!0),l.x-=_-(_*v[0]+m*v[2]),l.y-=m-(_*v[1]+m*v[3]))),L.body.removeChild(I),l.perspective||(l.perspective=E.perspective),null!=w.xPercent&&(l.xPercent=at(w.xPercent,E.xPercent)),null!=w.yPercent&&(l.yPercent=at(w.yPercent,E.yPercent));else if("object"==typeof w){if(l={scaleX:at(null!=w.scaleX?w.scaleX:w.scale,E.scaleX),scaleY:at(null!=w.scaleY?w.scaleY:w.scale,E.scaleY),scaleZ:at(w.scaleZ,E.scaleZ),x:at(w.x,E.x),y:at(w.y,E.y),z:at(w.z,E.z),xPercent:at(w.xPercent,E.xPercent),yPercent:at(w.yPercent,E.yPercent),perspective:at(w.transformPerspective,E.perspective)},p=w.directionalRotation,null!=p)if("object"==typeof p)for(h in p)w[h]=p[h];else w.rotation=p;"string"==typeof w.x&&-1!==w.x.indexOf("%")&&(l.x=0,l.xPercent=at(w.x,E.xPercent)),"string"==typeof w.y&&-1!==w.y.indexOf("%")&&(l.y=0,l.yPercent=at(w.y,E.yPercent)),l.rotation=ut("rotation"in w?w.rotation:"shortRotation"in w?w.shortRotation+"_short":"rotationZ"in w?w.rotationZ:E.rotation-E.skewY,E.rotation-E.skewY,"rotation",T),Ot&&(l.rotationX=ut("rotationX"in w?w.rotationX:"shortRotationX"in w?w.shortRotationX+"_short":E.rotationX||0,E.rotationX,"rotationX",T),l.rotationY=ut("rotationY"in w?w.rotationY:"shortRotationY"in w?w.shortRotationY+"_short":E.rotationY||0,E.rotationY,"rotationY",T)),l.skewX=ut(w.skewX,E.skewX-E.skewY),(l.skewY=ut(w.skewY,E.skewY))&&(l.skewX+=l.skewY,l.rotation+=l.skewY)}for(Ot&&null!=w.force3D&&(E.force3D=w.force3D,d=!0),E.skewType=w.skewType||E.skewType||a.defaultSkewType,f=E.force3D||E.z||E.rotationX||E.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,f||null==w.scale||(l.scaleZ=1);--x>-1;)i=Et[x],c=l[i]-E[i],(c>b||-b>c||null!=w[i]||null!=U[i])&&(d=!0,s=new vt(E,i,E[i],c,s),i in T&&(s.e=T[i]),s.xs0=0,s.plugin=o,n._overwriteProps.push(s.n));return c=w.transformOrigin,E.svg&&(c||w.svgOrigin)&&(_=E.xOffset,m=E.yOffset,Dt(t,st(c),l,w.svgOrigin,w.smoothOrigin),s=gt(E,"xOrigin",(g?E:l).xOrigin,l.xOrigin,s,A),s=gt(E,"yOrigin",(g?E:l).yOrigin,l.yOrigin,s,A),_===E.xOffset&&m===E.yOffset||(s=gt(E,"xOffset",g?_:E.xOffset,E.xOffset,s,A),s=gt(E,"yOffset",g?m:E.yOffset,E.yOffset,s,A)),c=At?null:"0px 0px"),(c||Ot&&f&&E.zOrigin)&&(Rt?(d=!0,i=Mt,c=(c||K(t,i,r,!1,"50% 50%"))+"",s=new vt(y,i,0,0,s,-1,A),s.b=y[i],s.plugin=o,Ot?(h=E.zOrigin,c=c.split(" "),E.zOrigin=(c.length>2&&(0===h||"0px"!==c[2])?parseFloat(c[2]):h)||0,s.xs0=s.e=c[0]+" "+(c[1]||"50%")+" 0px",s=new vt(E,"zOrigin",0,0,s,-1,s.n),
s.b=h,s.xs0=s.e=E.zOrigin):s.xs0=s.e=c):st(c+"",E)),d&&(n._transformType=E.svg&&At||!f&&3!==this._transformType?2:3),s},prefix:!0}),wt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),wt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,s,o,a){e=this.format(e);var u,l,h,c,f,d,p,_,m,v,g,y,b,x,w,T,A=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),u=e.split(" "),l=0;l<A.length;l++)this.p.indexOf("border")&&(A[l]=Q(A[l])),f=c=K(t,A[l],r,!1,"0px"),-1!==f.indexOf(" ")&&(c=f.split(" "),f=c[0],c=c[1]),d=h=u[l],p=parseFloat(f),y=f.substr((p+"").length),b="="===d.charAt(1),b?(_=parseInt(d.charAt(0)+"1",10),d=d.substr(2),_*=parseFloat(d),g=d.substr((_+"").length-(0>_?1:0))||""):(_=parseFloat(d),g=d.substr((_+"").length)),""===g&&(g=n[i]||y),g!==y&&(x=J(t,"borderLeft",p,y),w=J(t,"borderTop",p,y),"%"===g?(f=x/m*100+"%",c=w/v*100+"%"):"em"===g?(T=J(t,"borderLeft",1,"em"),f=x/T+"em",c=w/T+"em"):(f=x+"px",c=w+"px"),b&&(d=parseFloat(f)+_+g,h=parseFloat(c)+_+g)),o=yt(E,A[l],f+" "+c,d+" "+h,!1,"0px",o);return o},prefix:!0,formatter:pt("0px 0px 0px 0px",!1,!0)}),wt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,s,o){return yt(t.style,i,this.format(K(t,i,r,!1,"0px 0px")),this.format(e),!1,"0px",s)},prefix:!0,formatter:pt("0px 0px",!1,!0)}),wt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,s,o){var a,u,l,h,c,f,d="background-position",p=r||Z(t,null),_=this.format((p?m?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==_.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(f=K(t,"backgroundImage").replace(M,""),f&&"none"!==f)){for(a=_.split(" "),u=v.split(" "),z.setAttribute("src",f),l=2;--l>-1;)_=a[l],h=-1!==_.indexOf("%"),h!==(-1!==u[l].indexOf("%"))&&(c=0===l?t.offsetWidth-z.width:t.offsetHeight-z.height,a[l]=h?parseFloat(_)/100*c+"px":parseFloat(_)/c*100+"%");_=a.join(" ")}return this.parseComplex(t.style,_,v,s,o)},formatter:st}),wt("backgroundSize",{defaultValue:"0 0",formatter:st}),wt("perspective",{defaultValue:"0px",prefix:!0}),wt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),wt("transformStyle",{prefix:!0}),wt("backfaceVisibility",{prefix:!0}),wt("userSelect",{prefix:!0}),wt("margin",{parser:_t("marginTop,marginRight,marginBottom,marginLeft")}),wt("padding",{parser:_t("paddingTop,paddingRight,paddingBottom,paddingLeft")}),wt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,s,o){var a,u,l;return 9>m?(u=t.currentStyle,l=8>m?" ":",",a="rect("+u.clipTop+l+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",e=this.format(e).split(",").join(l)):(a=this.format(K(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,s,o)}}),wt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),wt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),wt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,s,o){var a=K(t,"borderTopWidth",r,!1,"0px"),u=this.format(e).split(" "),l=u[0].replace(x,"");return"px"!==l&&(a=parseFloat(a)/J(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(a+" "+K(t,"borderTopStyle",r,!1,"solid")+" "+K(t,"borderTopColor",r,!1,"#000")),u.join(" "),s,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(dt)||["#000"])[0]}}),wt("borderWidth",{parser:_t("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),wt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,s){var o=t.style,a="cssFloat"in o?"cssFloat":"styleFloat";return new vt(o,a,0,0,r,-1,i,!1,0,o[a],e)}});var Yt=function(t){var e,i=this.t,n=i.filter||K(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!K(this.data,"filter")):(i.filter=n.replace(A,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(w,"opacity="+r))};wt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,s,o){var a=parseFloat(K(t,"opacity",r,!1,"1")),u=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),l&&1===a&&"hidden"===K(t,"visibility",r)&&0!==e&&(a=0),V?s=new vt(u,"opacity",a,e-a,s):(s=new vt(u,"opacity",100*a,100*(e-a),s),s.xn1=l?1:0,u.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=o,s.setRatio=Yt),l&&(s=new vt(u,"visibility",0,0,s,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),s.xs0="inherit",n._overwriteProps.push(s.n),n._overwriteProps.push(i)),s}});var Vt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(R,"-$1").toLowerCase())):t.removeAttribute(e))},Ht=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Vt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};wt("className",{parser:function(t,e,n,s,o,a,u){var l,h,c,f,d,p=t.getAttribute("class")||"",_=t.style.cssText;if(o=s._classNamePT=new vt(t,n,0,0,o,2),o.setRatio=Ht,o.pr=-11,i=!0,o.b=p,h=tt(t,r),c=t._gsClassPT){for(f={},d=c.data;d;)f[d.p]=1,d=d._next;c.setRatio(1)}return t._gsClassPT=o,o.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",o.e),l=et(t,h,tt(t),u,f),t.setAttribute("class",p),o.data=l.firstMPT,t.style.cssText=_,o=o.xfirst=s.parse(t,l.difs,o,a)}});var Gt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,s,o=this.t.style,a=l.transform.parse;if("all"===this.e)o.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],l[i]&&(l[i].parse===a?r=!0:i="transformOrigin"===i?Mt:l[i].p),Vt(o,i);r&&(Vt(o,Rt),s=this.t._gsTransform,s&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(wt("clearProps",{parser:function(t,e,n,r,s){return s=new vt(t,n,0,0,s,2),s.setRatio=Gt,s.e=e,s.pr=-10,s.data=r._tween,i=!0,s}}),h="bezier,throwProps,physicsProps,physics2D".split(","),bt=h.length;bt--;)Tt(h[bt]);h=a.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,c=e.autoRound,i=!1,n=e.suffixMap||a.suffixMap,r=Z(t,""),s=this._overwriteProps;var u,h,p,m,v,g,y,b,x,w=t.style;if(f&&""===w.zIndex&&(u=K(t,"zIndex",r),"auto"!==u&&""!==u||this._addLazySet(w,"zIndex",0)),"string"==typeof e&&(m=w.cssText,u=tt(t,r),w.cssText=m+";"+e,u=et(t,u,tt(t)).difs,!V&&T.test(e)&&(u.opacity=parseFloat(RegExp.$1)),e=u,w.cssText=m),e.className?this._firstPT=h=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=h=this.parse(t,e,null),this._transformType){for(x=3===this._transformType,Rt?d&&(f=!0,""===w.zIndex&&(y=K(t,"zIndex",r),"auto"!==y&&""!==y||this._addLazySet(w,"zIndex",0)),_&&this._addLazySet(w,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):w.zoom=1,p=h;p&&p._next;)p=p._next;b=new vt(t,"transform",0,0,null,2),this._linkCSSP(b,null,p),b.setRatio=Rt?Xt:zt,b.data=this._transform||It(t,r,!0),b.tween=o,b.pr=-1,s.pop()}if(i){for(;h;){for(g=h._next,p=m;p&&p.pr>h.pr;)p=p._next;(h._prev=p?p._prev:v)?h._prev._next=h:m=h,(h._next=p)?p._prev=h:v=h,h=g}this._firstPT=m}return!0},h.parse=function(t,e,i,s){var o,a,u,h,f,d,p,_,m,v,g=t.style;for(o in e)d=e[o],a=l[o],a?i=a.parse(t,d,o,this,i,s,e):(f=K(t,o,r)+"",m="string"==typeof d,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||m&&E.test(d)?(m||(d=ct(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=yt(g,o,f,d,!0,"transparent",i,0,s)):m&&F.test(d)?i=yt(g,o,f,d,!0,null,i,0,s):(u=parseFloat(f),p=u||0===u?f.substr((u+"").length):"",""!==f&&"auto"!==f||("width"===o||"height"===o?(u=rt(t,o,r),p="px"):"left"===o||"top"===o?(u=$(t,o,r),p="px"):(u="opacity"!==o?0:1,p="")),v=m&&"="===d.charAt(1),v?(h=parseInt(d.charAt(0)+"1",10),d=d.substr(2),h*=parseFloat(d),_=d.replace(x,"")):(h=parseFloat(d),_=m?d.replace(x,""):""),""===_&&(_=o in n?n[o]:p),d=h||0===h?(v?h+u:h)+_:e[o],p!==_&&""!==_&&(h||0===h)&&u&&(u=J(t,o,u,p),"%"===_?(u/=J(t,o,100,"%")/100,e.strictUnits!==!0&&(f=u+"%")):"em"===_||"rem"===_||"vw"===_||"vh"===_?u/=J(t,o,1,_):"px"!==_&&(h=J(t,o,h,_),_="px"),v&&(h||0===h)&&(d=h+u+_)),v&&(h+=u),!u&&0!==u||!h&&0!==h?void 0!==g[o]&&(d||d+""!="NaN"&&null!=d)?(i=new vt(g,o,h||u||0,0,i,-1,o,!1,0,f,d),i.xs0="none"!==d||"display"!==o&&-1===o.indexOf("Style")?d:f):G("invalid "+o+" tween value: "+e[o]):(i=new vt(g,o,u,h-u,i,0,o,c!==!1&&("px"===_||"zIndex"===o),0,f,d),i.xs0=_))),s&&i&&!i.plugin&&(i.plugin=s);return i},h.setRatio=function(t){var e,i,n,r=this._firstPT,s=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):s>e&&e>-s&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},h._enableTransforms=function(t){this._transform=this._transform||It(this._target,r,!0),this._transformType=this._transform.svg&&At||!t&&3!==this._transformType?2:3};var qt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var n=this._firstPT=new vt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=qt,n.data=this},h._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,n,r,s=e;if(e.autoAlpha||e.alpha){s={};for(n in e)s[n]=e[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,s)};var Wt=function(t,e,i){var n,r,s,o;if(t.slice)for(r=t.length;--r>-1;)Wt(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)s=n[r],o=s.type,s.style&&(e.push(tt(s)),i&&i.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||Wt(s,e,i)};return a.cascadeTo=function(t,i,n){var r,s,o,a,u=e.to(t,i,n),l=[u],h=[],c=[],f=[],d=e._internals.reservedProps;for(t=u._targets||u.target,Wt(t,h,f),u.render(i,!0,!0),Wt(t,c),u.render(0,!0,!0),u._enabled(!0),r=f.length;--r>-1;)if(s=et(f[r],h[r],c[r]),s.firstMPT){s=s.difs;for(o in n)d[o]&&(s[o]=n[o]);a={};for(o in s)a[o]=h[r][o];l.push(e.fromTo(f[r],i,a,s))}return l},t.activate([a]),a},!0),function(){var t=o._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.r=1),t=t._next},i=t.prototype;i._onInitAllProps=function(){for(var t,i,n,r=this._tween,s=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),o=s.length,a={},u=r._propLookup.roundProps;--o>-1;)a[s[o]]=1;for(o=s.length;--o>-1;)for(t=s[o],i=r._firstPT;i;)n=i._next,i.pg?i.t._roundProps(a,!0):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[t]=u)),i=n;return!1},i._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,!0),this._overwriteProps.push(e)}}(),function(){o._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(t,e,i){var n;if("function"!=typeof t.setAttribute)return!1;for(n in e)this._addTween(t,"setAttribute",t.getAttribute(n)+"",e[n]+"",n,!1,n),this._overwriteProps.push(n);return!0}})}(),o._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,r,s,o,a,u,l=e.useRadians===!0?2*Math.PI:360,h=1e-6;for(n in e)"useRadians"!==n&&(u=(e[n]+"").split("_"),r=u[0],s=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),o=this.finals[n]="string"==typeof r&&"="===r.charAt(1)?s+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,a=o-s,u.length&&(r=u.join("_"),-1!==r.indexOf("short")&&(a%=l,a!==a%(l/2)&&(a=0>a?a+l:a-l)),-1!==r.indexOf("_cw")&&0>a?a=(a+9999999999*l)%l-(a/l|0)*l:-1!==r.indexOf("ccw")&&a>0&&(a=(a-9999999999*l)%l-(a/l|0)*l)),(a>h||-h>a)&&(this._addTween(t,n,s,s+a,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,o._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=o.GreenSockGlobals||o,s=r.com.greensock,a=2*Math.PI,u=Math.PI/2,l=s._class,h=function(e,i){var n=l("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},c=t.register||function(){},f=function(t,e,i,n,r){var s=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return c(s,t),s},d=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},_=f("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),v=m.prototype=new t;return v.constructor=m,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),v.config=m.config=function(t,e,i){return new m(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),v=e.prototype=new t,v.constructor=e,v.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},v.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,r,s,o,a,u=e.taper||"none",l=[],h=0,c=0|(e.points||20),f=c,p=e.randomize!==!1,_=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)i=p?Math.random():1/c*f,n=m?m.getRatio(i):i,"none"===u?r=v:"out"===u?(s=1-i,r=s*s*v):"in"===u?r=i*i*v:.5>i?(s=2*i,r=s*s*.5*v):(s=2*(1-i),r=s*s*.5*v),p?n+=Math.random()*r-.5*r:f%2?n+=.5*r:n-=.5*r,_&&(n>1?n=1:0>n&&(n=0)),l[h++]={x:i,y:n};for(l.sort(function(t,e){return t.x-e.x}),a=new d(1,1,null),f=c;--f>-1;)o=l[f],a=new d(o.x,o.y,a);this._prev=new d(0,0,0!==a.t?a:a.next)},!0),v=i.prototype=new t,v.constructor=i,v.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new i(t)},i.ease=new i,f("Bounce",h("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=i,s.config=function(t,e){return new r(t,e)},r},f("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),f("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",h("SineOut",function(t){return Math.sin(t*u)}),h("SineIn",function(t){return-Math.cos(t*u)+1}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),c(r.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(e,"SteppedEase","ease,"),_},!0)}),o._gsDefine&&o._gsQueue.pop()(),function(s,o){"use strict";var a={},u=s.GreenSockGlobals=s.GreenSockGlobals||s;if(!u.TweenLite){var l,h,c,f,d,p=function(t){var e,i=t.split("."),n=u;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},_=p("com.greensock"),m=1e-10,v=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=function(){},y=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),b={},x=function(s,l,h,c){this.sc=b[s]?b[s].sc:[],b[s]=this,this.gsClass=null,this.func=h;var f=[];this.check=function(d){for(var _,m,v,g,y,w=l.length,T=w;--w>-1;)(_=b[l[w]]||new x(l[w],[])).gsClass?(f[w]=_.gsClass,T--):d&&_.sc.push(this);if(0===T&&h){if(m=("com.greensock."+s).split("."),v=m.pop(),g=p(m.join("."))[v]=this.gsClass=h.apply(h,f),c)if(u[v]=g,y="undefined"!=typeof t&&t.exports,!y&&i(64))n=[],r=function(){return g}.apply(e,n),!(void 0!==r&&(t.exports=r));else if(y)if(s===o){t.exports=a[o]=g;for(w in a)g[w]=a[w]}else a[o]&&(a[o][v]=g);for(w=0;w<this.sc.length;w++)this.sc[w].check()}},this.check(!0)},w=s._gsDefine=function(t,e,i,n){return new x(t,e,i,n)},T=_._class=function(t,e,i){return e=e||function(){},w(t,[],function(){return e},i),e};w.globals=u;var A=[0,0,1,1],E=[],R=T("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?A.concat(e):A},!0),P=R.map={},M=R.register=function(t,e,i,n){for(var r,s,o,a,u=e.split(","),l=u.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(s=u[l],r=n?T("easing."+s,null,!0):_.easing[s]||{},o=h.length;--o>-1;)a=h[o],P[s+"."+a]=P[a+s]=r[a]=t.getRatio?t:t[a]||new t};for(c=R.prototype,c._calcEnd=!1,c.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},l=["Linear","Quad","Cubic","Quart","Quint,Strong"],h=l.length;--h>-1;)c=l[h]+",Power"+h,M(new R(null,null,1,h),c,"easeOut",!0),M(new R(null,null,2,h),c,"easeIn"+(0===h?",easeNone":"")),M(new R(null,null,3,h),c,"easeInOut");P.linear=_.easing.Linear.easeIn,P.swing=_.easing.Quad.easeInOut;var O=T("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});c=O.prototype,c.addEventListener=function(t,e,i,n,r){r=r||0;var s,o,a=this._listeners[t],u=0;for(this!==f||d||f.wake(),null==a&&(this._listeners[t]=a=[]),o=a.length;--o>-1;)s=a[o],s.c===e&&s.s===i?a.splice(o,1):0===u&&s.pr<r&&(u=o+1);a.splice(u,0,{c:e,s:i,up:n,pr:r})},c.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},c.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var S=s.requestAnimationFrame,C=s.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},B=k();for(l=["ms","moz","webkit","o"],h=l.length;--h>-1&&!S;)S=s[l[h]+"RequestAnimationFrame"],C=s[l[h]+"CancelAnimationFrame"]||s[l[h]+"CancelRequestAnimationFrame"];T("Ticker",function(t,e){var i,n,r,s,o,a=this,u=k(),l=e!==!1&&S?"auto":!1,h=500,c=33,p="tick",_=function(t){var e,l,f=k()-B;f>h&&(u+=f-c),B+=f,a.time=(B-u)/1e3,e=a.time-o,(!i||e>0||t===!0)&&(a.frame++,o+=e+(e>=s?.004:s-e),l=!0),t!==!0&&(r=n(_)),l&&a.dispatchEvent(p)};O.call(a),a.time=a.frame=0,a.tick=function(){_(!0)},a.lagSmoothing=function(t,e){h=t||1/m,c=Math.min(e,h,0)},a.sleep=function(){null!=r&&(l&&C?C(r):clearTimeout(r),n=g,r=null,a===f&&(d=!1))},a.wake=function(t){null!==r?a.sleep():t?u+=-B+(B=k()):a.frame>10&&(B=k()-h+5),n=0===i?g:l&&S?S:function(t){return setTimeout(t,1e3*(o-a.time)+1|0)},a===f&&(d=!0),_(2)},a.fps=function(t){return arguments.length?(i=t,s=1/(i||60),o=this.time+s,void a.wake()):i},a.useRAF=function(t){return arguments.length?(a.sleep(),l=t,void a.fps(i)):l},a.fps(t),setTimeout(function(){"auto"===l&&a.frame<5&&"hidden"!==document.visibilityState&&a.useRAF(!1)},1500)}),c=_.Ticker.prototype=new _.events.EventDispatcher,c.constructor=_.Ticker;var F=T("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,$){d||f.wake();var i=this.vars.useFrames?J:$;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});f=F.ticker=new _.Ticker,c=F.prototype,c._dirty=c._gc=c._initted=c._paused=!1,c._totalTime=c._time=0,c._rawPrevTime=-1,c._next=c._last=c._onUpdate=c._timeline=c.timeline=null,c._paused=!1;var D=function(){d&&k()-B>2e3&&f.wake(),setTimeout(D,2e3)};D(),c.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},c.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},c.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},c.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},c.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},c.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},c.render=function(t,e,i){},c.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},c.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},c._enabled=function(t,e){return d||f.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},c._kill=function(t,e){return this._enabled(!1,!1)},c.kill=function(t,e){return this._kill(t,e),this},c._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},c._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},c._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||E)},c.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=y(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},c.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},c.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},c.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},c.totalTime=function(t,e,i){if(d||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(I.length&&et(),this.render(t,e,!1),I.length&&et())}return this},c.progress=c.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},c.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},c.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},c.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||m,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},c.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},c.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(d||t||f.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var N=T("core.SimpleTimeline",function(t){F.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});c=N.prototype=new F,c.constructor=N,c.kill()._gc=!1,c._first=c._last=c._recent=null,c._sortChildren=!1,c.add=c.insert=function(t,e,i,n){var r,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(s=t._startTime;r&&r._startTime>s;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},c._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},c.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},c.rawTime=function(){return d||f.wake(),this._totalTime};var U=T("TweenLite",function(t,e,i){if(F.call(this,e,i),this.render=U.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:U.selector(t)||t;var n,r,o,a=t.jquery||t.length&&t!==s&&t[0]&&(t[0]===s||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?K[U.defaultOverwrite]:"number"==typeof u?u>>0:K[u],(a||t instanceof Array||t.push&&y(t))&&"number"!=typeof t[0])for(this._targets=o=v(t),this._propLookup=[],this._siblings=[],n=0;n<o.length;n++)r=o[n],r?"string"!=typeof r?r.length&&r!==s&&r[0]&&(r[0]===s||r[0].nodeType&&r[0].style&&!r.nodeType)?(o.splice(n--,1),this._targets=o=o.concat(v(r))):(this._siblings[n]=it(r,this,!1),1===u&&this._siblings[n].length>1&&rt(r,this,null,1,this._siblings[n])):(r=o[n--]=U.selector(r),"string"==typeof r&&o.splice(n+1,1)):o.splice(n--,1);else this._propLookup={},this._siblings=it(t,this,!1),1===u&&this._siblings.length>1&&rt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-m,this.render(Math.min(0,-this._delay)))},!0),L=function(t){return t&&t.length&&t!==s&&t[0]&&(t[0]===s||t[0].nodeType&&t[0].style&&!t.nodeType)},j=function(t,e){var i,n={};for(i in t)Z[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!q[i]||q[i]&&q[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};c=U.prototype=new F,c.constructor=U,c.kill()._gc=!1,c.ratio=0,c._firstPT=c._targets=c._overwrittenProps=c._startAt=null,c._notifyPluginsOfEnabled=c._lazy=!1,U.version="1.18.5",U.defaultEase=c._ease=new R(null,null,1,1),U.defaultOverwrite="auto",U.ticker=f,U.autoSleep=120,U.lagSmoothing=function(t,e){f.lagSmoothing(t,e)},U.selector=s.$||s.jQuery||function(t){var e=s.$||s.jQuery;return e?(U.selector=e,e(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var I=[],z={},X=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,Y=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.r?e=Math.round(e):n>e&&e>-n&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},V=function(t,e,i,n){var r,s,o,a,u,l,h,c=[t,e],f=0,d="",p=0;for(c.start=t,i&&(i(c),t=c[0],e=c[1]),c.length=0,r=t.match(X)||[],s=e.match(X)||[],n&&(n._next=null,n.blob=1,c._firstPT=n),u=s.length,a=0;u>a;a++)h=s[a],l=e.substr(f,e.indexOf(h,f)-f),d+=l||!a?l:",",f+=l.length,p?p=(p+1)%5:"rgba("===l.substr(-5)&&(p=1),h===r[a]||r.length<=a?d+=h:(d&&(c.push(d),d=""),o=parseFloat(r[a]),
c.push(o),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:o,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-o)||0,f:0,r:p&&4>p}),f+=h.length;return d+=e.substr(f),d&&c.push(d),c.setRatio=Y,c},H=function(t,e,i,n,r,s,o,a){var u,l,h="get"===i?t[e]:i,c=typeof t[e],f="string"==typeof n&&"="===n.charAt(1),d={t:t,p:e,s:h,f:"function"===c,pg:0,n:r||e,r:s,pr:0,c:f?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-h||0};return"number"!==c&&("function"===c&&"get"===i&&(l=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d.s=h=o?t[l](o):t[l]()),"string"==typeof h&&(o||isNaN(h))?(d.fp=o,u=V(h,n,a||U.defaultStringFilter,d),d={t:u,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0}):f||(d.s=parseFloat(h),d.c=parseFloat(n)-d.s||0)),d.c?((d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d):void 0},G=U._internals={isArray:y,isSelector:L,lazyTweens:I,blobDif:V},q=U._plugins={},W=G.tweenLookup={},Q=0,Z=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},J=F._rootFramesTimeline=new N,$=F._rootTimeline=new N,tt=30,et=G.lazyRender=function(){var t,e=I.length;for(z={};--e>-1;)t=I[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);I.length=0};$._startTime=f.time,J._startTime=f.frame,$._active=J._active=!0,setTimeout(et,1),F._updateRoot=U.render=function(){var t,e,i;if(I.length&&et(),$.render((f.time-$._startTime)*$._timeScale,!1,!1),J.render((f.frame-J._startTime)*J._timeScale,!1,!1),I.length&&et(),f.frame>=tt){tt=f.frame+(parseInt(U.autoSleep,10)||120);for(i in W){for(e=W[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete W[i]}if(i=$._first,(!i||i._paused)&&U.autoSleep&&!J._first&&1===f._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||f.sleep()}}},f.addEventListener("tick",F._updateRoot);var it=function(t,e,i){var n,r,s=t._gsTweenID;if(W[s||(t._gsTweenID=s="t"+Q++)]||(W[s]={target:t,tweens:[]}),e&&(n=W[s].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return W[s].tweens},nt=function(t,e,i,n){var r,s,o=t.vars.onOverwrite;return o&&(r=o(t,e,i,n)),o=U.onOverwrite,o&&(s=o(t,e,i,n)),r!==!1&&s!==!1},rt=function(t,e,i,n,r){var s,o,a,u;if(1===n||n>=4){for(u=r.length,s=0;u>s;s++)if((a=r[s])!==e)a._gc||a._kill(null,t,e)&&(o=!0);else if(5===n)break;return o}var l,h=e._startTime+m,c=[],f=0,d=0===e._duration;for(s=r.length;--s>-1;)(a=r[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(l=l||st(e,0,d),0===st(a,l,d)&&(c[f++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((d||!a._initted)&&h-a._startTime<=2e-10||(c[f++]=a)));for(s=f;--s>-1;)if(a=c[s],2===n&&a._kill(i,t,e)&&(o=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!nt(a,e))continue;a._enabled(!1,!1)&&(o=!0)}return o},st=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return s/=r,s>e?s-e:i&&s===e||!t._initted&&2*m>s-e?m:(s+=t.totalDuration()/t._timeScale/r)>e+m?0:s-e-m};c._init=function(){var t,e,i,n,r,s=this.vars,o=this._overwrittenProps,a=this._duration,u=!!s.immediateRender,l=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in s.startAt)r[n]=s.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=u&&s.lazy!==!1,r.startAt=r.delay=null,this._startAt=U.to(this.target,0,r),u)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(s.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(u=!1),i={};for(n in s)Z[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=u&&s.lazy!==!1,i.immediateRender=u,this._startAt=U.to(this.target,0,i),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof R?l:"function"==typeof l?new R(l,s.easeParams):P[l]||U.defaultEase:U.defaultEase,s.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&U._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},c._initProps=function(t,e,i,n){var r,o,a,u,l,h;if(null==t)return!1;z[t._gsTweenID]&&et(),this.vars.css||t.style&&t!==s&&t.nodeType&&q.css&&this.vars.autoCSS!==!1&&j(this.vars,t);for(r in this.vars)if(h=this.vars[r],Z[r])h&&(h instanceof Array||h.push&&y(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[r]=h=this._swapSelfInParams(h,this));else if(q[r]&&(u=new q[r])._onInitTween(t,this.vars[r],this)){for(this._firstPT=l={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:r,pg:1,pr:u._priority},o=u._overwriteProps.length;--o>-1;)e[u._overwriteProps[o]]=this._firstPT;(u._priority||u._onInitAllProps)&&(a=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else e[r]=H.call(this,t,r,"get",h,r,0,null,this.vars.stringFilter);return n&&this._kill(n,t)?this._initProps(t,e,i,n):this._overwrite>1&&this._firstPT&&i.length>1&&rt(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(z[t._gsTweenID]=!0),a)},c.render=function(t,e,i){var n,r,s,o,a=this._time,u=this._duration,l=this._rawPrevTime;if(t>=u-1e-7)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0>l||0>=t&&t>=-1e-7||l===m&&"isPause"!==this.data)&&l!==t&&(i=!0,l>m&&(r="onReverseComplete")),this._rawPrevTime=o=!e||t||l===t?t:m);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===u&&l>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(l!==m||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!e||t||l===t?t:m)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/u,c=this._easeType,f=this._easePower;(1===c||3===c&&h>=.5)&&(h=1-h),3===c&&(h*=2),1===f?h*=h:2===f?h*=h*h:3===f?h*=h*h*h:4===f&&(h*=h*h*h*h),1===c?this.ratio=1-h:2===c?this.ratio=h:.5>t/u?this.ratio=h/2:this.ratio=1-h/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=l,I.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/u):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===u&&this._rawPrevTime===m&&o!==m&&(this._rawPrevTime=0)))}},c._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:U.selector(e)||e;var n,r,s,o,a,u,l,h,c,f=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((y(e)||L(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(l=t||a,h=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(U.onOverwrite||this.vars.onOverwrite)){for(s in l)a[s]&&(c||(c=[]),c.push(s));if((c||!t)&&!nt(this,i,e,c))return!1}for(s in l)(o=a[s])&&(f&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,u=!0),o.pg&&o.t._kill(l)&&(u=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),h&&(r[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},c.invalidate=function(){return this._notifyPluginsOfEnabled&&U._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],F.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(Math.min(0,-this._delay))),this},c._enabled=function(t,e){if(d||f.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=it(n[i],this,!0);else this._siblings=it(this.target,this,!0)}return F.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?U._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},U.to=function(t,e,i){return new U(t,e,i)},U.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new U(t,e,i)},U.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new U(t,e,n)},U.delayedCall=function(t,e,i,n,r){return new U(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},U.set=function(t,e){return new U(t,0,e)},U.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:U.selector(t)||t;var i,n,r,s;if((y(t)||L(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(U.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else for(n=it(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},U.killTweensOf=U.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=U.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var ot=T("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=ot.prototype},!0);if(c=ot.prototype,ot.version="1.18.0",ot.API=2,c._firstPT=null,c._addTween=H,c.setRatio=Y,c._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},c._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},U._onPluginEvent=function(t,e){var i,n,r,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:s)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:s=a,a=o}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},ot.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===ot.API&&(q[(new t[e])._propName]=t[e]);return!0},w.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=T("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){ot.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),a=o.prototype=new ot(i);a.constructor=o,o.API=t.API;for(e in s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,ot.activate([o]),o},l=s._gsQueue){for(h=0;h<l.length;h++)l[h]();for(c in b)b[c].func||s.console.log("GSAP encountered missing dependency: com.greensock."+c)}d=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof s?s:this||window,"TweenMax")}).call(e,function(){return this}())},function(t,e){t.exports={vertexPositions:[[0,1,0],[.942809,-.333333,0],[-.471405,-.333333,-.816497],[-.471405,-.333333,.816497]],vertexNormals:[[.4714,.3333,-.8165],[-.9428,.3333,0],[.4714,.3333,.8165],[0,-1,0]],vertexUVs:[[.5773,.5],[.866,1e-4],[.866,.9999],[1e-4,.5]],facePositions:[[0,1,2],[0,2,3],[0,3,1],[1,3,2]],faceNormals:[[0,0,0],[1,1,1],[2,2,2],[3,3,3]],faceUVs:[[0,1,2],[0,2,3],[0,3,1],[1,3,2]]}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=c[n.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](n.parts[s]);for(;s<n.parts.length;s++)r.parts.push(a(n.parts[s],e))}else{for(var o=[],s=0;s<n.parts.length;s++)o.push(a(n.parts[s],e));c[n.id]={id:n.id,refs:1,parts:o}}}}function r(t){for(var e=[],i={},n=0;n<t.length;n++){var r=t[n],s=r[0],o=r[1],a=r[2],u=r[3],l={css:o,media:a,sourceMap:u};i[s]?i[s].parts.push(l):e.push(i[s]={id:s,parts:[l]})}return e}function s(){var t=document.createElement("style"),e=p();return t.type="text/css",e.appendChild(t),t}function o(){var t=document.createElement("link"),e=p();return t.rel="stylesheet",e.appendChild(t),t}function a(t,e){var i,n,r;if(e.singleton){var a=m++;i=_||(_=s()),n=u.bind(null,i,a,!1),r=u.bind(null,i,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=o(),n=h.bind(null,i),r=function(){i.parentNode.removeChild(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(),n=l.bind(null,i),r=function(){i.parentNode.removeChild(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function u(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function l(t,e){var i=e.css,n=e.media;e.sourceMap;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function h(t,e){var i=e.css,n=(e.media,e.sourceMap);n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}var c={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},d=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=f(function(){return document.head||document.getElementsByTagName("head")[0]}),_=null,m=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=d());var i=r(t);return n(i,e),function(t){for(var s=[],o=0;o<i.length;o++){var a=i[o],u=c[a.id];u.refs--,s.push(u)}if(t){var l=r(t);n(l,e)}for(var o=0;o<s.length;o++){var u=s[o];if(0===u.refs){for(var h=0;h<u.parts.length;h++)u.parts[h]();delete c[u.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){var n=i(40);"string"==typeof n&&(n=[[t.id,n,""]]);i(62)(n,{});n.locals&&(t.exports=n.locals)},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(t){var e=i(77),n=i(66),r=i(12).asap;return e({scheduler:new n(r)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(t){var e=i(22),n=i(21);return function(t){function i(e){function i(t){h=null,this.resolve(t)}function n(t){this.resolved||(h.push(t),0===--l&&this.reject(h))}for(var r,s,o=t._defer(),a=o._handler,u=e.length>>>0,l=u,h=[],c=0;u>c;++c)if(s=e[c],void 0!==s||c in e){if(r=t._handler(s),r.state()>0){a.become(r),t._visitRemaining(e,c,r);break}r.visit(a,i,n)}else--l;return 0===l&&a.reject(new RangeError("any(): array must not be empty")),o}function r(e,i){function n(t){this.resolved||(h.push(t),0===--d&&(c=null,this.resolve(h)))}function r(t){this.resolved||(c.push(t),0===--s&&(h=null,this.reject(c)))}var s,o,a,u=t._defer(),l=u._handler,h=[],c=[],f=e.length>>>0,d=0;for(a=0;f>a;++a)o=e[a],(void 0!==o||a in e)&&++d;for(i=Math.max(i,0),s=d-i+1,d=Math.min(i,d),i>d?l.reject(new RangeError("some(): array must contain at least "+i+" item(s), but had "+d)):0===d&&l.resolve(h),a=0;f>a;++a)o=e[a],(void 0!==o||a in e)&&t._handler(o).visit(l,n,r,l.notify);return u}function s(e,i){return t._traverse(i,e)}function o(e,i){var n=g.call(e);return t._traverse(i,n).then(function(t){return a(n,t)})}function a(e,i){for(var n=i.length,r=new Array(n),s=0,o=0;n>s;++s)i[s]&&(r[o++]=t._handler(e[s]).value);return r.length=o,r}function u(t){return _(t.map(l))}function l(i){var n=t._handler(i);return 0===n.state()?p(i).then(e.fulfilled,e.rejected):(n._unreport(),e.inspect(n))}function h(t,e){return arguments.length>2?m.call(t,f(e),arguments[2]):m.call(t,f(e))}function c(t,e){return arguments.length>2?v.call(t,f(e),arguments[2]):v.call(t,f(e))}function f(t){return function(e,i,n){return d(t,void 0,[e,i,n])}}var d=n(t),p=t.resolve,_=t.all,m=Array.prototype.reduce,v=Array.prototype.reduceRight,g=Array.prototype.slice;return t.any=i,t.some=r,t.settle=u,t.map=s,t.filter=o,t.reduce=h,t.reduceRight=c,t.prototype.spread=function(t){return this.then(_).then(function(e){return t.apply(this,e)})},t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){function t(){throw new TypeError("catch predicate must be a function")}function e(t,e){return i(e)?t instanceof e:e(t)}function i(t){return t===Error||null!=t&&t.prototype instanceof Error}function n(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function r(t){return t}return function(i){function s(t,i){return function(n){return e(n,i)?t.call(this,n):l(n)}}function o(t,e,i,r){var s=t.call(e);return n(s)?a(s,i,r):i(r)}function a(t,e,i){return u(t).then(function(){return e(i)})}var u=i.resolve,l=i.reject,h=i.prototype["catch"];return i.prototype.done=function(t,e){this._handler.visit(this._handler.receiver,t,e)},i.prototype["catch"]=i.prototype.otherwise=function(e){return arguments.length<2?h.call(this,e):"function"!=typeof e?this.ensure(t):h.call(this,s(arguments[1],e))},i.prototype["finally"]=i.prototype.ensure=function(t){return"function"!=typeof t?this:this.then(function(e){return o(t,this,r,e)},function(e){return o(t,this,l,e)})},i.prototype["else"]=i.prototype.orElse=function(t){return this.then(void 0,function(){return t})},i.prototype["yield"]=function(t){return this.then(function(){return t})},i.prototype.tap=function(t){return this.then(t)["yield"](this)},i}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){return function(t){return t.prototype.fold=function(e,i){var n=this._beget();return this._handler.fold(function(i,n,r){t._handler(i).fold(function(t,i,n){n.resolve(e.call(this,i,t))},n,this,r)},i,n._handler.receiver,n._handler),n},t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(t){var e=i(22).inspect;return function(t){return t.prototype.inspect=function(){return e(t._handler(this))},t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){return function(t){function e(t,e,n,r){return i(function(e){return[e,t(e)]},e,n,r)}function i(t,e,r,s){function o(s,o){return n(r(s)).then(function(){return i(t,e,r,o)})}return n(s).then(function(i){return n(e(i)).then(function(e){return e?i:n(t(i)).spread(o)})})}var n=t.resolve;return t.iterate=e,t.unfold=i,t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(t){function e(t,e,i,r){return n.setTimer(function(){t(i,r,e)},e)}var n=i(12),r=i(20);return function(t){function i(t,i,n){e(s,t,i,n)}function s(t,e){e.resolve(t)}function o(t,e,i){var n="undefined"==typeof t?new r("timed out after "+i+"ms"):t;e.reject(n)}return t.prototype.delay=function(t){var e=this._beget();return this._handler.fold(i,t,void 0,e._handler),e},t.prototype.timeout=function(t,i){var r=this._beget(),s=r._handler,a=e(o,t,i,r._handler);return this._handler.visit(s,function(t){n.clearTimer(a),this.resolve(t)},function(t){n.clearTimer(a),this.reject(t)},s.notify),r},t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(t){function e(t){throw t}function n(){}var r=i(12).setTimer,s=i(76);return function(t){function i(t){t.handled||(d.push(t),h("Potentially unhandled rejection ["+t.id+"] "+s.formatError(t.value)))}function o(t){var e=d.indexOf(t);e>=0&&(d.splice(e,1),c("Handled previous rejection ["+t.id+"] "+s.formatObject(t.value)))}function a(t,e){f.push(t,e),null===p&&(p=r(u,0))}function u(){for(p=null;f.length>0;)f.shift()(f.shift())}var l,h=n,c=n;"undefined"!=typeof console&&(l=console,h="undefined"!=typeof l.error?function(t){l.error(t)}:function(t){l.log(t)},c="undefined"!=typeof l.info?function(t){l.info(t)}:function(t){l.log(t)}),t.onPotentiallyUnhandledRejection=function(t){a(i,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){a(o,t)},t.onFatalRejection=function(t){a(e,t.value)};var f=[],d=[],p=null;return t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){return function(t){return t.prototype["with"]=t.prototype.withThis=function(t){var e=this._beget(),i=e._handler;return i.receiver=t,this._handler.chain(i,t),e},t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(){function t(t){var i="object"==typeof t&&null!==t&&(t.stack||t.message)?t.stack||t.message:e(t);return t instanceof Error?i:i+" (WARNING: non-Error used)"}function e(t){var e=String(t);return"[object Object]"===e&&"undefined"!=typeof JSON&&(e=i(t,e)),e}function i(t,e){try{return JSON.stringify(t)}catch(i){return e}}return{formatError:t,formatObject:e,tryStringify:i}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;(function(r){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(s){"use strict";n=function(){return function(t){function e(t,e){this._handler=t===b?e:i(t)}function i(t){function e(t){r.resolve(t)}function i(t){r.reject(t)}function n(t){r.notify(t)}var r=new w;try{t(e,i,n)}catch(s){i(s)}return r}function n(t){return D(t)?t:new e(b,new T(v(t)))}function s(t){return new e(b,new T(new R(t)))}function o(){return tt}function a(){return new e(b,new w)}function u(t,e){var i=new w(t.receiver,t.join().context);return new e(b,i)}function l(t){return c(H,null,t)}function h(t,e){return c(I,t,e)}function c(t,i,n){function r(e,r,o){o.resolved||f(n,s,e,t(i,r,e),o)}function s(t,e,i){h[t]=e,0===--l&&i.become(new E(h))}for(var o,a="function"==typeof i?r:s,u=new w,l=n.length>>>0,h=new Array(l),c=0;c<n.length&&!u.resolved;++c)o=n[c],void 0!==o||c in n?f(n,a,c,o,u):--l;return 0===l&&u.become(new E(h)),new e(b,u)}function f(t,e,i,n,r){if(N(n)){var s=g(n),o=s.state();0===o?s.fold(e,i,void 0,r):o>0?e(i,s.value,r):(r.become(s),d(t,i+1,s))}else e(i,n,r)}function d(t,e,i){for(var n=e;n<t.length;++n)p(v(t[n]),i)}function p(t,e){if(t!==e){var i=t.state();0===i?t.visit(t,void 0,t._unreport):0>i&&t._unreport()}}function _(t){return"object"!=typeof t||null===t?s(new TypeError("non-iterable passed to race()")):0===t.length?o():1===t.length?n(t[0]):m(t)}function m(t){var i,n,r,s=new w;for(i=0;i<t.length;++i)if(n=t[i],void 0!==n||i in t){if(r=v(n),0!==r.state()){s.become(r),d(t,i+1,r);break}r.visit(s,s.resolve,s.reject)}return new e(b,s)}function v(t){return D(t)?t._handler.join():N(t)?y(t):new E(t)}function g(t){return D(t)?t._handler.join():y(t)}function y(t){try{var e=t.then;return"function"==typeof e?new A(e,t):new E(t)}catch(i){return new R(i)}}function b(){}function x(){}function w(t,i){e.createContext(this,i),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function T(t){this.handler=t}function A(t,e){w.call(this),W.enqueue(new k(t,e,this))}function E(t){e.createContext(this),this.value=t}function R(t){e.createContext(this),this.id=++J,this.value=t,this.handled=!1,this.reported=!1,this._report()}function P(t,e){this.rejection=t,this.context=e}function M(t){this.rejection=t}function O(){return new R(new TypeError("Promise cycle"))}function S(t,e){this.continuation=t,this.handler=e}function C(t,e){this.handler=e,this.value=t}function k(t,e,i){this._then=t,this.thenable=e,this.resolver=i}function B(t,e,i,n,r){try{t.call(e,i,n,r)}catch(s){n(s)}}function F(t,e,i,n){this.f=t,this.z=e,this.c=i,this.to=n,this.resolver=K,this.receiver=this}function D(t){return t instanceof e}function N(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function U(t,i,n,r){return"function"!=typeof t?r.become(i):(e.enterContext(i),z(t,i.value,n,r),void e.exitContext())}function L(t,i,n,r,s){return"function"!=typeof t?s.become(n):(e.enterContext(n),X(t,i,n.value,r,s),void e.exitContext())}function j(t,i,n,r,s){return"function"!=typeof t?s.notify(i):(e.enterContext(n),Y(t,i,r,s),void e.exitContext())}function I(t,e,i){try{return t(e,i)}catch(n){return s(n)}}function z(t,e,i,n){try{n.become(v(t.call(i,e)))}catch(r){n.become(new R(r))}}function X(t,e,i,n,r){try{t.call(n,e,i,r)}catch(s){r.become(new R(s))}}function Y(t,e,i,n){try{n.notify(t.call(i,e))}catch(r){n.notify(r)}}function V(t,e){e.prototype=Z(t.prototype),e.prototype.constructor=e}function H(t,e){return e}function G(){}function q(){return"undefined"!=typeof r&&null!==r&&"function"==typeof r.emit?function(t,e){return"unhandledRejection"===t?r.emit(t,e.value,e):r.emit(t,e)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,e,i){var n=!1;try{var r=new i("unhandledRejection");n=r instanceof i}catch(s){}return n?function(t,n){var r=new i(t,{detail:{reason:n.value,key:n},bubbles:!1,cancelable:!0});return!e.dispatchEvent(r)}:t}(G,self,CustomEvent):G}var W=t.scheduler,Q=q(),Z=Object.create||function(t){function e(){}return e.prototype=t,new e};e.resolve=n,e.reject=s,e.never=o,e._defer=a,e._handler=v,e.prototype.then=function(t,e,i){var n=this._handler,r=n.join().state();if("function"!=typeof t&&r>0||"function"!=typeof e&&0>r)return new this.constructor(b,n);var s=this._beget(),o=s._handler;return n.chain(o,n.receiver,t,e,i),s},e.prototype["catch"]=function(t){return this.then(void 0,t)},e.prototype._beget=function(){return u(this._handler,this.constructor)},e.all=l,e.race=_,e._traverse=h,e._visitRemaining=d,b.prototype.when=b.prototype.become=b.prototype.notify=b.prototype.fail=b.prototype._unreport=b.prototype._report=G,b.prototype._state=0,b.prototype.state=function(){return this._state},b.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},b.prototype.chain=function(t,e,i,n,r){this.when({resolver:t,receiver:e,fulfilled:i,rejected:n,progress:r})},b.prototype.visit=function(t,e,i,n){this.chain(K,t,e,i,n)},b.prototype.fold=function(t,e,i,n){this.when(new F(t,e,i,n))},V(b,x),x.prototype.become=function(t){t.fail()};var K=new x;V(b,w),w.prototype._state=0,w.prototype.resolve=function(t){this.become(v(t))},w.prototype.reject=function(t){this.resolved||this.become(new R(t))},w.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=O();return t},w.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var i=0;i<t.length;++i)e.when(t[i])},w.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&W.enqueue(this),void 0!==this.context&&t._report(this.context))},w.prototype.when=function(t){this.resolved?W.enqueue(new S(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},w.prototype.notify=function(t){this.resolved||W.enqueue(new C(t,this))},w.prototype.fail=function(t){var e="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(e)},w.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},w.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},V(b,T),T.prototype.when=function(t){W.enqueue(new S(t,this))},T.prototype._report=function(t){this.join()._report(t)},T.prototype._unreport=function(){this.join()._unreport()},V(w,A),V(b,E),E.prototype._state=1,E.prototype.fold=function(t,e,i,n){L(t,e,this,i,n)},E.prototype.when=function(t){U(t.fulfilled,this,t.receiver,t.resolver)};var J=0;V(b,R),R.prototype._state=-1,R.prototype.fold=function(t,e,i,n){n.become(this)},R.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),U(t.rejected,this,t.receiver,t.resolver)},R.prototype._report=function(t){W.afterQueue(new P(this,t))},R.prototype._unreport=function(){this.handled||(this.handled=!0,W.afterQueue(new M(this)))},R.prototype.fail=function(t){this.reported=!0,Q("unhandledRejection",this),e.onFatalRejection(this,void 0===t?this.context:t)},P.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,Q("unhandledRejection",this.rejection)||e.onPotentiallyUnhandledRejection(this.rejection,this.context))},M.prototype.run=function(){this.rejection.reported&&(Q("rejectionHandled",this.rejection)||e.onPotentiallyUnhandledRejectionHandled(this.rejection))},e.createContext=e.enterContext=e.exitContext=e.onPotentiallyUnhandledRejection=e.onPotentiallyUnhandledRejectionHandled=e.onFatalRejection=G;var $=new b,tt=new e(b,$);return S.prototype.run=function(){this.handler.join().when(this.continuation)},C.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,i=0;i<t.length;++i)e=t[i],j(e.progress,this.value,this.handler,e.receiver,e.resolver)},k.prototype.run=function(){function t(t){n.resolve(t)}function e(t){n.reject(t)}function i(t){n.notify(t)}var n=this.resolver;B(this._then,this.thenable,t,e,i)},F.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},F.prototype.rejected=function(t){this.to.reject(t)},F.prototype.progress=function(t){this.to.notify(t)},e}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))}).call(e,i(19))},function(t,e,i){var n;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(r){"use strict";n=function(t){function e(t,e,i,n){var r=A.resolve(t);return arguments.length<2?r:r.then(e,i,n)}function n(t){return new A(t)}function r(t){return function(){for(var e=0,i=arguments.length,n=new Array(i);i>e;++e)n[e]=arguments[e];return E(t,this,n)}}function s(t){for(var e=0,i=arguments.length-1,n=new Array(i);i>e;++e)n[e]=arguments[e+1];return E(t,this,n)}function o(){return new a}function a(){function t(t){n._handler.resolve(t)}function e(t){n._handler.reject(t)}function i(t){n._handler.notify(t)}var n=A._defer();this.promise=n,this.resolve=t,this.reject=e,this.notify=i,this.resolver={resolve:t,reject:e,notify:i}}function u(t){return t&&"function"==typeof t.then}function l(){return A.all(arguments)}function h(t){return e(t,A.all)}function c(t){return e(t,A.settle)}function f(t,i){return e(t,function(t){return A.map(t,i)})}function d(t,i){return e(t,function(t){return A.filter(t,i)})}var p=i(73),_=i(67),m=i(68),v=i(69),g=i(70),y=i(71),b=i(72),x=i(75),w=i(74),T=i(20),A=[_,m,v,y,b,g,x,p,w].reduce(function(t,e){return e(t)},i(65)),E=i(21)(A);return e.promise=n,e.resolve=A.resolve,e.reject=A.reject,e.lift=r,e["try"]=s,e.attempt=s,e.iterate=A.iterate,e.unfold=A.unfold,e.join=l,e.all=h,e.settle=c,e.any=r(A.any),e.some=r(A.some),e.race=r(A.race),e.map=f,e.filter=d,e.reduce=r(A.reduce),e.reduceRight=r(A.reduceRight),e.isPromiseLike=u,e.Promise=A,e.defer=o,e.TimeoutError=T,e}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e){}]);
//# sourceMappingURL=bundle.js.map